<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://JerryLinyx.github.io/Doc/blog/</id>
    <title>JerryLinyx Blog</title>
    <updated>2025-09-11T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://JerryLinyx.github.io/Doc/blog/"/>
    <subtitle>JerryLinyx Blog</subtitle>
    <icon>https://JerryLinyx.github.io/Doc/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Road to Flow Matching]]></title>
        <id>https://JerryLinyx.github.io/Doc/blog/road-to-flow-matching/</id>
        <link href="https://JerryLinyx.github.io/Doc/blog/road-to-flow-matching/"/>
        <updated>2025-09-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Introduction]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>Generative models aim to transform a simple base distribution, such as a Gaussian, into a complex target data distribution. The core idea is to construct a generator that maps samples from the base distribution into data space. To compute likelihoods, this generator must be invertible. If a generator transforms <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span> into <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mi>G</mi><mo stretchy="false">(</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X = G(Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span></span></span></span>, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><msup><mi>G</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Z = G^{-1}(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">)</span></span></span></span> must exist, and the density is computed using the change of variables:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>X</mi></msub><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>P</mi><mi>Z</mi></msub><mo stretchy="false">(</mo><msup><mi>G</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mrow><mo fence="true">∣</mo><mi>det</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">∂</mi><msup><mi>G</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi mathvariant="normal">∂</mi><mi>X</mi><mo stretchy="false">)</mo><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">P_X(X) = P_Z(G^{-1}(X)) \left|\det(\partial G^{-1}(X)/\partial X)\right|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em">X</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">Z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em"><span style="top:-2.85em"><span class="pstrut" style="height:3.2em"></span><span style="width:0.333em;height:1.200em"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="1.200em" viewBox="0 0 333 1200"><path d="M145 15 v585 v0 v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v0 v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v0 v585 h43z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em"><span></span></span></span></span></span></span><span class="mop">det</span><span class="mopen">(</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">)</span><span class="mord">/</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">)</span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em"><span style="top:-2.85em"><span class="pstrut" style="height:3.2em"></span><span style="width:0.333em;height:1.200em"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="1.200em" viewBox="0 0 333 1200"><path d="M145 15 v585 v0 v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v0 v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v0 v585 h43z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>or equivalently:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>X</mi></msub><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>P</mi><mi>Z</mi></msub><mo stretchy="false">(</mo><mi>Z</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mrow><mo fence="true">∣</mo><mi>det</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">∂</mi><mi>X</mi><mi mathvariant="normal">/</mi><mi mathvariant="normal">∂</mi><mi>Z</mi><mo stretchy="false">)</mo><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">P_X(X) = P_Z(Z) / \left|\det(\partial X/\partial Z)\right|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em">X</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">Z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span><span class="mord">/</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em">∣</span><span class="mop">det</span><span class="mopen">(</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mord">/</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em">∣</span></span></span></span></span></p>
<p>Stacking <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span></span></span></span> invertible generators gives:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>X</mi></msub><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>P</mi><mi>Z</mi></msub><mo stretchy="false">(</mo><msup><mi>G</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><msubsup><mo>∏</mo><mrow><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mi>K</mi></msubsup><mrow><mo fence="true">∣</mo><mi>det</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">∂</mi><msubsup><mi>G</mi><mi>k</mi><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">(</mo><msub><mi>X</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi mathvariant="normal">∂</mi><msub><mi>X</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex">P_X(X) = P_Z(G^{-1}(X)) \prod_{k=1}^K \left|\det(\partial G_k^{-1}(X_k)/\partial X_k)\right|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em">X</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.3312em;vertical-align:-0.35em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">Z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em">∏</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9812em"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em"><span style="top:-2.85em"><span class="pstrut" style="height:3.2em"></span><span style="width:0.333em;height:1.200em"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="1.200em" viewBox="0 0 333 1200"><path d="M145 15 v585 v0 v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v0 v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v0 v585 h43z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em"><span></span></span></span></span></span></span><span class="mop">det</span><span class="mopen">(</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8542em"><span style="top:-2.3987em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span><span style="top:-3.1031em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.85em"><span style="top:-2.85em"><span class="pstrut" style="height:3.2em"></span><span style="width:0.333em;height:1.200em"><svg xmlns="http://www.w3.org/2000/svg" width="0.333em" height="1.200em" viewBox="0 0 333 1200"><path d="M145 15 v585 v0 v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v0 v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v0 v585 h43z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35em"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>The main difficulty is designing expressive yet tractable invertible transformations with efficiently computable Jacobian determinants.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="residual-flows-discrete-time-transformations">Residual Flows: Discrete-Time Transformations<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#residual-flows-discrete-time-transformations" class="hash-link" aria-label="Direct link to Residual Flows: Discrete-Time Transformations" title="Direct link to Residual Flows: Discrete-Time Transformations">​</a></h2>
<p>A residual flow layer has the simple form:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mi>Z</mi><mo>+</mo><mi>U</mi><mo stretchy="false">(</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X = Z + U(Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span></span></span></span></p>
<p>To make this invertible, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">U</span></span></span></span> must be a contractive mapping so that the fixed point equation:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mi>X</mi><mo>−</mo><mi>U</mi><mo stretchy="false">(</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Z = X - U(Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span></span></span></span></p>
<p>has a unique solution. This allows the layer to be inverted by iterative fixed-point updates.</p>
<p>The Jacobian determinant is:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>det</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">∂</mi><mi>X</mi><mi mathvariant="normal">/</mi><mi mathvariant="normal">∂</mi><mi>Z</mi><mo stretchy="false">)</mo><mo>=</mo><mi>det</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>I</mi><mo>+</mo><mi mathvariant="normal">∂</mi><mi>U</mi><mo stretchy="false">(</mo><mi>Z</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi mathvariant="normal">∂</mi><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\det(\partial X/\partial Z) = \det(I + \partial U(Z)/\partial Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">det</span><span class="mopen">(</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mord">/</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">det</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">I</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span><span class="mord">/</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span></span></span></span></p>
<p>Direct determinant computation is expensive. A common trick is estimating traces using Monte Carlo:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="normal">T</mi><mi mathvariant="normal">r</mi></mrow><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>E</mi><mi>v</mi></msub><mo stretchy="false">[</mo><msup><mi>v</mi><mi>T</mi></msup><mi>A</mi><mi>v</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathrm{Tr}(A) = E_v[v^T A v]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathrm">Tr</span></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="mclose">]</span></span></span></span></p>
<p>with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span></span></span> sampled from a standard Gaussian.</p>
<p>Stacking <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span></span></span></span> residual layers produces:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>k</mi></msub><mo>=</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>U</mi><mi>k</mi></msub><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X_k = X_{k-1} + U_k(X_{k-1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>which gradually warps the simple base distribution into a complex target distribution.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="continuous-normalizing-flows-cnf">Continuous Normalizing Flows (CNF)<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#continuous-normalizing-flows-cnf" class="hash-link" aria-label="Direct link to Continuous Normalizing Flows (CNF)" title="Direct link to Continuous Normalizing Flows (CNF)">​</a></h2>
<p>Taking the limit of infinitely many residual layers transforms discrete updates into an ODE. From:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>k</mi></msub><mo>−</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>U</mi><mi>k</mi></msub><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X_k - X_{k-1} = U_k(X_{k-1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>letting the step size go to zero yields:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>X</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>d</mi><mi>t</mi><mo>=</mo><mi>U</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>t</mi><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">dX(t)/dt = U(X(t), t, \theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em">X</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span></p>
<p>This defines a Neural ODE where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">U</span></span></span></span> is a time-varying vector field.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="density-evolution-via-the-continuity-equation">Density Evolution via the Continuity Equation<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#density-evolution-via-the-continuity-equation" class="hash-link" aria-label="Direct link to Density Evolution via the Continuity Equation" title="Direct link to Density Evolution via the Continuity Equation">​</a></h3>
<p>The probability density <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_t(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> evolves according to:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∂</mi><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi mathvariant="normal">∂</mi><mi>t</mi><mo>+</mo><mi mathvariant="normal">∇</mi><mo>⋅</mo><mo stretchy="false">(</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>U</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\partial P_t(x)/\partial t + \nabla \cdot (P_t(x) U(x,t)) = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord">/</span><span class="mord" style="margin-right:0.05556em">∂</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">∇</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span></p>
<p>This describes conservation of probability mass as samples move under the vector field.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="training-difficulty">Training Difficulty<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#training-difficulty" class="hash-link" aria-label="Direct link to Training Difficulty" title="Direct link to Training Difficulty">​</a></h3>
<p>Training CNFs requires solving ODEs inside the likelihood objective for every data point, making CNFs computationally expensive and slow to scale.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flow-matching-scalable-cnf-training">Flow Matching: Scalable CNF Training<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#flow-matching-scalable-cnf-training" class="hash-link" aria-label="Direct link to Flow Matching: Scalable CNF Training" title="Direct link to Flow Matching: Scalable CNF Training">​</a></h2>
<p>Flow Matching avoids ODE integration by directly learning the vector field <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">U(x,t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-flow-matching-objective">The Flow Matching Objective<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#the-flow-matching-objective" class="hash-link" aria-label="Direct link to The Flow Matching Objective" title="Direct link to The Flow Matching Objective">​</a></h3>
<p>Define the ideal objective:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>F</mi><mi>M</mi></mrow></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>E</mi><mrow><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></msub><mi mathvariant="normal">∥</mi><msub><mi>U</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>U</mi><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><msup><mi mathvariant="normal">∥</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">L_{FM}(\theta) = E_{P_t(x)} \|U_\theta(x,t) - U_{target}(x,t)\|^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em">FM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.1002em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p>
<p>This trains <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">U_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> to match the true vector field <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">U_{target}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span>. However, both <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_t(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">U_{target}(x,t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span> are unknown.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conditional-flow-matching">Conditional Flow Matching<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#conditional-flow-matching" class="hash-link" aria-label="Direct link to Conditional Flow Matching" title="Direct link to Conditional Flow Matching">​</a></h3>
<p>The key idea is to design conditional probability paths <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_t(x|Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span></span></span></span> that are analytically tractable. Sampling over these conditional paths recovers the marginal objective in expectation.</p>
<p>A common conditional path:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>Z</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="script">N</mi><mo stretchy="false">(</mo><msub><mi>α</mi><mi>t</mi></msub><mi>Z</mi><mo separator="true">,</mo><msubsup><mi>β</mi><mi>t</mi><mn>2</mn></msubsup><mi>I</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_t(x|Z) = \mathcal{N}(\alpha_t Z, \beta_t^2 I)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord mathcal" style="margin-right:0.14736em">N</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.453em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span><span class="mclose">)</span></span></span></span></p>
<p>with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\alpha_0=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\beta_0=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>α</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\alpha_1=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_1=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0</span></span></span></span>, smoothly interpolating from noise to the data point <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span>.</p>
<p>For this path, the conditional vector field:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mi mathvariant="normal">∣</mi><mi>Z</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mover accent="true"><mi>α</mi><mo>˙</mo></mover><mi>t</mi></msub><mi>Z</mi><mo>+</mo><mo stretchy="false">(</mo><msub><mover accent="true"><mi>β</mi><mo>˙</mo></mover><mi>t</mi></msub><mi mathvariant="normal">/</mi><msubsup><mi>β</mi><mi>t</mi><mn>2</mn></msubsup><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msub><mi>α</mi><mi>t</mi></msub><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">U_{target}(x,t|Z) = \dot{\alpha}_t Z + (\dot{\beta}_t/\beta_t^2)(x - \alpha_t Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6679em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.1111em"><span class="mord">˙</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.1813em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9313em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal" style="margin-right:0.05278em">β</span></span><span style="top:-3.2634em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.0556em"><span class="mord">˙</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em">β</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.453em;margin-left:-0.0528em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0037em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span></span></span></span></p>
<p>A simpler special case is the rectified flow path:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>t</mi></msub><mo>=</mo><mi>t</mi><mi>Z</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">x_t = tZ + (1-t)\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">tZ</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord mathnormal">ϵ</span></span></span></span></p>
<p>where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">ϵ</span></span></span></span> is sampled from the base distribution. Then the target vector field is constant:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow></msub><mo>=</mo><mi>Z</mi><mo>−</mo><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">U_{target} = Z - \epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">ϵ</span></span></span></span></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conditional-flow-matching-objective">Conditional Flow Matching Objective<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#conditional-flow-matching-objective" class="hash-link" aria-label="Direct link to Conditional Flow Matching Objective" title="Direct link to Conditional Flow Matching Objective">​</a></h3>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>C</mi><mi>F</mi><mi>M</mi></mrow></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>E</mi><mrow><mi>t</mi><mo>∼</mo><mi>U</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Z</mi><mo>∼</mo><msub><mi>P</mi><mrow><mi>d</mi><mi>a</mi><mi>t</mi><mi>a</mi></mrow></msub><mo separator="true">,</mo><mi>x</mi><mo>∼</mo><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>Z</mi><mo stretchy="false">)</mo></mrow></msub><mi mathvariant="normal">∥</mi><msub><mi>U</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>−</mo><msub><mi>U</mi><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mi mathvariant="normal">∣</mi><mi>Z</mi><mo stretchy="false">)</mo><msup><mi mathvariant="normal">∥</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">L_{CFM}(\theta) = E_{t \sim U(0,1), Z \sim P_{data}, x \sim P_t(x|Z)} \|U_\theta(x,t) - U_{target}(x,t|Z)\|^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em">CFM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">∼</span><span class="mord mathnormal mtight" style="margin-right:0.10903em">U</span><span class="mopen mtight">(</span><span class="mord mtight">0</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.07153em">Z</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.3488em;margin-left:-0.1389em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">x</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2963em"><span style="top:-2.357em;margin-left:-0.1389em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.07153em">Z</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.1002em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p>
<p>A theorem states:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>F</mi><mi>M</mi></mrow></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>L</mi><mrow><mi>C</mi><mi>F</mi><mi>M</mi></mrow></msub><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>+</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">L_{FM}(\theta) = L_{CFM}(\theta) + C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em">FM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em">CFM</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span></span></span></p>
<p>where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span></span></span> is independent of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span>. Minimizers of both objectives are identical, so training with the conditional loss recovers the true flow.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="training-loop">Training Loop<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#training-loop" class="hash-link" aria-label="Direct link to Training Loop" title="Direct link to Training Loop">​</a></h3>
<ol>
<li>Sample a data point <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi></mrow><annotation encoding="application/x-tex">Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span></span></span></span>.</li>
<li>Sample a time <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em"></span><span class="mord mathnormal">t</span></span></span></span> uniformly in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>.</li>
<li>Sample <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span></span></span></span> from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_t(x|Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span></span></span></span>.</li>
<li>Compute <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mrow><mi>t</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>e</mi><mi>t</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mi mathvariant="normal">∣</mi><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">U_{target}(x,t|Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.07153em">Z</span><span class="mclose">)</span></span></span></span>.</li>
<li>Train <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">U_\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> using the L2 loss.</li>
<li>Update parameters with gradient descent.</li>
</ol>
<p>No ODE solving is required during training.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparison-with-diffusion-models">Comparison with Diffusion Models<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#comparison-with-diffusion-models" class="hash-link" aria-label="Direct link to Comparison with Diffusion Models" title="Direct link to Comparison with Diffusion Models">​</a></h2>
<p>Flow Matching generalizes diffusion models:</p>
<ul>
<li>It does not require the forward process to be a fixed Gaussian diffusion.</li>
<li>It directly designs a path from noise to data.</li>
<li>It avoids computing or simulating a forward diffusion chain.</li>
<li>The training objective is a simple regression problem.</li>
</ul>
<p>Diffusion models produce samples by reversing a stochastic diffusion process, while Flow Matching learns a continuous vector field mapping noise to data directly.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="https://jerrylinyx.github.io/Doc/blog/road-to-flow-matching/#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>Residual flows introduced discrete invertible transformations. CNFs extended these to continuous time, governed by ODEs and the continuity equation. However, CNFs are computationally expensive to train because they require ODE integration inside the loss.</p>
<p>Flow Matching resolves this by replacing likelihood-based training with a tractable conditional regression objective that teaches the model to approximate the true vector field. This preserves the expressive power of continuous flows while greatly improving scalability and efficiency. As a result, Flow Matching has become a foundational framework for high-resolution generative modeling.</p>]]></content>
        <author>
            <name>Yuxuan (Jerry) Lin</name>
            <uri>https://www.linkedin.com/in/yuxuan0/</uri>
        </author>
        <category label="Generative Models" term="Generative Models"/>
        <category label="Normalizing Flows" term="Normalizing Flows"/>
        <category label="Flow-matching" term="Flow-matching"/>
        <category label="CNF" term="CNF"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Game Development | 游戏开发 | CS 415 UIUC]]></title>
        <id>https://JerryLinyx.github.io/Doc/blog/2024/04/29/cs415/</id>
        <link href="https://JerryLinyx.github.io/Doc/blog/2024/04/29/cs415/"/>
        <updated>2024-04-29T20:18:20.000Z</updated>
        <summary type="html"><![CDATA[Geometric Transformations]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="geometric-transformations">Geometric Transformations<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#geometric-transformations" class="hash-link" aria-label="Direct link to Geometric Transformations" title="Direct link to Geometric Transformations">​</a></h2>
<p>The geometry of a mesh is defined by the vertex set
Applying a transformation to a mesh means transforming each vertex location
Simple transformations can be accomplished by multiplying a matrix times the vertex location</p>
<ul>
<li>Rotation</li>
<li>Scale</li>
<li>Translation</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>e</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>f</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>g</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>h</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>i</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>j</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>k</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>l</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
d &amp; e &amp; f &amp; a \\
g &amp; h &amp; i &amp; b \\
j &amp; k &amp; l &amp; c \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\begin{bmatrix}
x \\
y \\
z \\
1
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">g</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em">j</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">i</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em">l</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>3 dimensional transformations are implemented as a 4x4 matrix</p>
<ul>
<li>We express the 3D position of a point using homogeneous coordinates…add a fourth w coordinate</li>
<li>Each 3D position (x,y,z) corresponds to a homogeneous point (x,y,z,1)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-d-affine-transformations">3-D Affine Transformations<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#3-d-affine-transformations" class="hash-link" aria-label="Direct link to 3-D Affine Transformations" title="Direct link to 3-D Affine Transformations">​</a></h3>
<p>General Form (with homogeneous coordinates)</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>e</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>f</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>g</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>h</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>i</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>j</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>k</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>l</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mi>x</mi><mo>+</mo><mi>e</mi><mi>y</mi><mo>+</mo><mi>f</mi><mi>z</mi><mo>+</mo><mi>a</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>g</mi><mi>x</mi><mo>+</mo><mi>h</mi><mi>y</mi><mo>+</mo><mi>i</mi><mi>z</mi><mo>+</mo><mi>b</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>j</mi><mi>x</mi><mo>+</mo><mi>k</mi><mi>y</mi><mo>+</mo><mi>l</mi><mi>z</mi><mo>+</mo><mi>c</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
d &amp; e &amp; f &amp; a \\
g &amp; h &amp; i &amp; b \\
j &amp; k &amp; l &amp; c \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\begin{bmatrix}
x \\
y \\
z \\
1
\end{bmatrix}
=
\begin{bmatrix}
dx + ey + fz + a \\
gx + hy + iz + b \\
jx + ky + lz + c \\
1
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">g</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em">j</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">i</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em">l</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal" style="margin-right:0.03588em">ey</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">gx</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em">j</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal">c</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span></span></span></span></span>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="translation">Translation<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#translation" class="hash-link" aria-label="Direct link to Translation" title="Direct link to Translation">​</a></h3>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">T</mi><mo stretchy="false">(</mo><mi mathvariant="bold">t</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="bold">T</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>y</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>z</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>z</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{T}(\mathbf{t}) = \mathbf{T}(t_x, t_y, t_z) =
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; t_x \\
0 &amp; 1 &amp; 0 &amp; t_y \\
0 &amp; 0 &amp; 1 &amp; t_z \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathbf">T</span><span class="mopen">(</span><span class="mord mathbf">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord mathbf">T</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span></span></span></span></span>
<p><img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.10-e4d36bd6446d376d7cb9b5ff09116392.png" width="1246" height="476" class="img_ev3q">
The inverse of a translation matrix is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>T</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T^{−1}(t) = T(−t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>, that is, the vector t is negated.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scale">Scale<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#scale" class="hash-link" aria-label="Direct link to Scale" title="Direct link to Scale">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.11-a9ee019674a3423666adb7e73f1f7620.png" width="1654" height="1082" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-d-rotations-its-not-magic">2-D Rotations: It’s Not Magic<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#2-d-rotations-its-not-magic" class="hash-link" aria-label="Direct link to 2-D Rotations: It’s Not Magic" title="Direct link to 2-D Rotations: It’s Not Magic">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.12-21639e162c133ad21f2a6183d7d0cb60.png" width="1782" height="622" class="img_ev3q"></p>
<p>Real-Time Rendering, Fourth Edition (Page 60).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-d-rotations">3-D Rotations<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#3-d-rotations" class="hash-link" aria-label="Direct link to 3-D Rotations" title="Direct link to 3-D Rotations">​</a></h3>
<p>About x-axis</p>
<ul>
<li>rotates y to z</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">R</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>ϕ</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>sin</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>sin</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{R}_x(\phi) =
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; \cos \phi &amp; -\sin \phi &amp; 0 \\
0 &amp; \sin \phi &amp; \cos \phi &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathbf">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">ϕ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>About y-axis</p>
<ul>
<li>rotates z to x</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">R</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>ϕ</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>sin</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>sin</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{R}_y(\phi) =
\begin{bmatrix}
\cos \phi &amp; 0 &amp; \sin \phi &amp; 0 \\
0 &amp; 1 &amp; 0 &amp; 0 \\
-\sin \phi &amp; 0 &amp; \cos \phi &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathbf">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">ϕ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>About z-axis</p>
<ul>
<li>rotates x to y</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">R</mi><mi>z</mi></msub><mo stretchy="false">(</mo><mi>ϕ</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>sin</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>sin</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>⁡</mo><mi>ϕ</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{R}_z(\phi) =
\begin{bmatrix}
\cos \phi &amp; -\sin \phi &amp; 0 &amp; 0 \\
\sin \phi &amp; \cos \phi &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathbf">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">ϕ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em"><span style="top:-4.65em"><span class="pstrut" style="height:6.8em"></span><span style="width:0.667em;height:4.800em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="4.800em" viewBox="0 0 667 4800"><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1200 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em"><span></span></span></span></span></span></span></span></span></span></span></span>
<p>Rotations do not commute!</p>
<ul>
<li>
<p>Rotation is around the origin</p>
</li>
<li>
<p>To rotate around a point p we have to: translate p to origin, rotate, translate back to p</p>
</li>
<li>
<p>Example:</p>
<p><img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.14-8e00a493a751ec87a6ad925ad2d6eb17.png" width="1462" height="534" class="img_ev3q"></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="concatenating-transformations">Concatenating Transformations<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#concatenating-transformations" class="hash-link" aria-label="Direct link to Concatenating Transformations" title="Direct link to Concatenating Transformations">​</a></h3>
<p>You can execute a sequence of transformations using a single matrix
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mi>n</mi></msub><msub><mi>M</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>M</mi><mn>2</mn></msub><msub><mi>M</mi><mn>1</mn></msub><mi>p</mi><mo>=</mo><mi>M</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">M_{n} M_{n-1} ... M_2 M_1 p = Mp</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord mathnormal">Mp</span></span></span></span></p>
<p>Just compute the product of the transformation matrices
Important <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">M_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> is applied first then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">M_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and so on</p>
<ul>
<li><strong>Modeling transformation</strong>: model is sized, placed and oriented in the virtual world
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mi>T</mi><mi>R</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">C = TRS</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">TRS</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>R</mi><mi>S</mi><mi>p</mi><mo>=</mo><mi>T</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">(</mo><mi>S</mi><mi>p</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">TRSp = T(R(Sp))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em"></span><span class="mord mathnormal">TRSp</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mopen">(</span><span class="mord mathnormal">Sp</span><span class="mclose">))</span></span></span></span></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="non-commutativity-example">Non-Commutativity Example<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#non-commutativity-example" class="hash-link" aria-label="Direct link to Non-Commutativity Example" title="Direct link to Non-Commutativity Example">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.15-c635f12ff6a6f1e84f004778eeffde3f.png" width="1354" height="766" class="img_ev3q">
It generally holds that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>N</mi><mo stretchy="false">!</mo><mo>=</mo><mi>N</mi><mi>M</mi></mrow><annotation encoding="application/x-tex">MN != NM</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.10903em">MN</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">NM</span></span></span></span>, for arbitrary matrices <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span></span></span></span>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-in-rigging">Use in Rigging<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#use-in-rigging" class="hash-link" aria-label="Direct link to Use in Rigging" title="Direct link to Use in Rigging">​</a></h3>
<blockquote>
<p>3D rigging is the process of creating a skeleton for a 3D model so it can move. Most commonly, characters are rigged before they are animated because if a character model doesn't have a rig, they can't be deformed and moved around.</p>
</blockquote>
<p>Each joint has a transformation associated with it
The rigging skeleton generates a tree of transformations
So, fingers are transformed a concatenated transform
Product of matrices from the chest to shoulder to elbow to wrist, etc.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="orientation-euler-angles">Orientation: Euler Angles<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#orientation-euler-angles" class="hash-link" aria-label="Direct link to Orientation: Euler Angles" title="Direct link to Orientation: Euler Angles">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="instancing">Instancing<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#instancing" class="hash-link" aria-label="Direct link to Instancing" title="Direct link to Instancing">​</a></h3>
<p>Vegetation instancing.
All objects the same color in the lower image are rendered in a single draw call.
You render the same number of triangles as non-instancing…
So why is instancing more performant than using more meshes?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="animation-and-orientation">Animation and Orientation<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#animation-and-orientation" class="hash-link" aria-label="Direct link to Animation and Orientation" title="Direct link to Animation and Orientation">​</a></h3>
<p>Interpolation is used to generate in-between frames from keyframes
At a minimum this means interpolating position and orientation of a model
So…how can we represent orientation?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="orientation">Orientation<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#orientation" class="hash-link" aria-label="Direct link to Orientation" title="Direct link to Orientation">​</a></h3>
<p>A model has an initial geometry (from the artist)
Changing that orientation requires rotation
How about just using a single rotation matrix?</p>
<p>Consider a 2D example</p>
<ul>
<li>
<p>Starting rotation is 90 degree clockwise</p>
</li>
<li>
<p>Ending rotation is 90 degree counter-clockwise</p>
</li>
<li>
<p>Doing element-by-element linear interpolation to get intermediate rotation</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\frac{1}{2}
\begin{bmatrix}
0 &amp; 1 \\
-1 &amp; 0
\end{bmatrix}
+
\frac{1}{2}
\begin{bmatrix}
0 &amp; -1 \\
1 &amp; 0
\end{bmatrix}
=
\begin{bmatrix}
0 &amp; 0 \\
0 &amp; 0
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em"><span style="top:-3.61em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">]</span></span></span></span></span></span></span>
</li>
<li>
<p>Does this make sense? Should we have expected something different?</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="euler-angles">Euler Angles<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#euler-angles" class="hash-link" aria-label="Direct link to Euler Angles" title="Direct link to Euler Angles">​</a></h4>
<p>We can record an orientation as</p>
<ul>
<li>
<p>Three rotations</p>
</li>
<li>
<p>Each rotation is around a principal axis</p>
</li>
<li>
<p>Example:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">E</mi><mo stretchy="false">(</mo><mi>h</mi><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="bold">R</mi><mi>z</mi></msub><mo stretchy="false">(</mo><mi>r</mi><mo stretchy="false">)</mo><msub><mi mathvariant="bold">R</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><msub><mi mathvariant="bold">R</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{E}(h, p, r) = \mathbf{R}_z(r) \mathbf{R}_x(p) \mathbf{R}_y(h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathbf">E</span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathbf">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mclose">)</span><span class="mord"><span class="mord mathbf">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mord"><span class="mord mathbf">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mclose">)</span></span></span></span></span>
</li>
<li>
<p>This not only option</p>
<ul>
<li>24 different possible orders one could use</li>
</ul>
</li>
<li>
<p>Also, people use different terminology</p>
<ul>
<li>e.g. “yaw” instead of “head”</li>
<li>Also which axis corresponds to a name is not standardized</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.3-cca5f2db3e0917d3a9f2b7b1091629fe.png" width="732" height="666" class="img_ev3q"></p>
<p><strong>The Good Part:</strong></p>
<ul>
<li>Three Euler angles can be used to specify arbitrary object orientation<!-- -->
<ul>
<li>i.e. any orientation we want can be achieved with these 3 rotations</li>
</ul>
</li>
<li>Euler angles are used in a lot of applications…they are believed to be intuitive</li>
<li>They are compact…requiring only 3 numbers</li>
<li>Easily converted into a single rotation matrix</li>
</ul>
<p><strong>The Problematic Parts:</strong>
Are they really intuitive?
<img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.4-847a36799fd90cf21c164b7a3afd9f01.png" width="1830" height="454" class="img_ev3q">
Each rotation is given in a new coordinate system
Plus, different triples can be used to generate the same orientation</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="gimbal-lock">Gimbal Lock<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#gimbal-lock" class="hash-link" aria-label="Direct link to Gimbal Lock" title="Direct link to Gimbal Lock">​</a></h4>
<p>环架锁定（Gimbal lock），也称为万向锁，是使用动态欧拉角表示三维物体的旋转时会出现的问题。
Airplane orientation</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>z</mi></msub><mo stretchy="false">(</mo><mi>r</mi><mi>o</mi><mi>l</mi><mi>l</mi><mo stretchy="false">)</mo><msub><mi>R</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>p</mi><mi>i</mi><mi>t</mi><mi>c</mi><mi>h</mi><mo stretchy="false">)</mo><msub><mi>R</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>y</mi><mi>a</mi><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R_z(roll) R_x(pitch) R_y(yaw)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.01968em">ll</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal">c</span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mclose">)</span></span></span></span></li>
<li>Two axes have collapsed onto each other</li>
<li>Think about this from a user-interface perspective</li>
</ul>
<p>Imagine you have 3 dials…one for each angle
What action caused the orientation you see?
What happens when z dial is moved now?
What problem could this cause for someone playing a game with this interface? <img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.5-ccbfa8e45753b4a22c6a55965e1bb6a9.png" width="722" height="816" class="img_ev3q"></p>
<p>When the <code>middle</code> rotation is a 90 or -90 rotation, we generate gimbal lock
In this example, gimbal lock occurs when a 90 degree turn around axis Z is made
Both X and Y rotations are now performed around the same axis
<img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.6-77d13489a0318fcb559031cf212208e0.png" width="370" height="688" class="img_ev3q"></p>
<p>Is Gimbal Lock that Important?</p>
<blockquote>
<p>“In the video game industry there has been some back-and-forth battles about whether this problem is crucial. In an FPS game, the avatar is usually not allowed to pitch his head all the way to ±π/2, thereby avoiding this problem. In VR, it happens all the time that a user could pitch her head straight up or down. The kinematic singularity often causes the viewpoint to spin uncontrollably…”
-- Virtual Reality by Lavalle Section 3.3</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="interpolation">Interpolation<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#interpolation" class="hash-link" aria-label="Direct link to Interpolation" title="Direct link to Interpolation">​</a></h4>
<p>Could linearly interpolate between each angle in a start pose and end pose to generate intermediate poses</p>
<ul>
<li>This doesn’t work well</li>
</ul>
<p>It treats rotations as if they were independent of each other and completely ignores the effect they have on each other</p>
<ul>
<li>Can result in jerky, unnatural movement</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="orientation-quaternions-四元数">Orientation: Quaternions 四元数<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#orientation-quaternions-%E5%9B%9B%E5%85%83%E6%95%B0" class="hash-link" aria-label="Direct link to Orientation: Quaternions 四元数" title="Direct link to Orientation: Quaternions 四元数">​</a></h2>
<ul>
<li>
<p>Alternative way of encoding orientation</p>
</li>
<li>
<p>Game industry standard</p>
</li>
<li>
<p>Both Unity and Unreal use them</p>
</li>
<li>
<p>User interface may still use Euler Angles</p>
<ul>
<li>Converted to quaternions under the hood</li>
</ul>
</li>
<li>
<p>Developed by Sir William Rowan Hamilton [1843]</p>
</li>
<li>
<p>Quaternions are 4-D complex numbers with one real axis and three imaginary axes: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">i,j,k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.05724em">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><msub><mi>q</mi><mn>0</mn></msub><mo>+</mo><mi>i</mi><msub><mi>q</mi><mn>1</mn></msub><mo>+</mo><mi>j</mi><msub><mi>q</mi><mn>2</mn></msub><mo>+</mo><mi>k</mi><msub><mi>q</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">q = q_0 + iq_1 + jq_2 + kq_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.05724em">j</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>Introduced to Computer Graphics by Shoemake [1985]</p>
</li>
<li>
<p>Given an angle and axis, easy to convert to and from quaternion</p>
<ul>
<li>Euler angle conversion to and from arbitrary axis and angle difficult</li>
</ul>
</li>
<li>
<p>Quaternions allow stable and constant interpolation of orientations</p>
<ul>
<li>Cannot be done easily with Euler angles</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unit-quaternions">Unit Quaternions<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#unit-quaternions" class="hash-link" aria-label="Direct link to Unit Quaternions" title="Direct link to Unit Quaternions">​</a></h3>
<p>For convenience, we will use only unit length quaternions
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>q</mi><mi mathvariant="normal">∣</mi><mo>=</mo><msqrt><mrow><msubsup><mi>q</mi><mn>0</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>q</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>q</mi><mn>2</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>q</mi><mn>3</mn><mn>2</mn></msubsup></mrow></msqrt><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">|q| = \sqrt{q_0^2 + q_1^2 + q_2^2 + q_3^2} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.2902em"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9498em"><span class="svg-align" style="top:-3.2em"><span class="pstrut" style="height:3.2em"></span><span class="mord" style="padding-left:1em"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.0448em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.0448em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.0448em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em"><span></span></span></span></span></span></span></span></span><span style="top:-2.9098em"><span class="pstrut" style="height:3.2em"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2902em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span></p>
<ul>
<li>These correspond to the set of 4D vectors</li>
<li>They form the ‘surface’ of a 4D hypersphere of radius 1</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quaternions-as-rotations">Quaternions as Rotations<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#quaternions-as-rotations" class="hash-link" aria-label="Direct link to Quaternions as Rotations" title="Direct link to Quaternions as Rotations">​</a></h3>
<p>A quaternion can represent a rotation by angle θ around a unit vector a:
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle style="text-shadow:0.02em 0.01em 0.04px"><mi>q</mi></mstyle><mo>=</mo><mo stretchy="false">[</mo><mi>c</mi><mi>o</mi><mi>s</mi><mfrac><mi>θ</mi><mn>2</mn></mfrac><mspace width="1em"></mspace><msub><mi>a</mi><mi>x</mi></msub><mi>s</mi><mi>i</mi><mi>n</mi><mfrac><mi>θ</mi><mn>2</mn></mfrac><mspace width="1em"></mspace><msub><mi>a</mi><mi>y</mi></msub><mi>s</mi><mi>i</mi><mi>n</mi><mfrac><mi>θ</mi><mn>2</mn></mfrac><mspace width="1em"></mspace><msub><mi>a</mi><mi>z</mi></msub><mi>s</mi><mi>i</mi><mi>n</mi><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\pmb{q} = [ cos \frac{\theta}{2} \quad  a_x sin \frac{\theta}{2} \quad  a_y sin \frac{\theta}{2} \quad a_z sin \frac{\theta}{2} ]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord" style="text-shadow:0.02em 0.01em 0.04px"><span class="mord mathnormal" style="margin-right:0.03588em">q</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em"></span><span class="mopen">[</span><span class="mord mathnormal">cos</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span></span>
or
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle style="text-shadow:0.02em 0.01em 0.04px"><mi>q</mi></mstyle><mo>=</mo><mo stretchy="false">⟨</mo><mi>c</mi><mi>o</mi><mi>s</mi><mfrac><mi>θ</mi><mn>2</mn></mfrac><mspace width="1em"></mspace><mstyle style="text-shadow:0.02em 0.01em 0.04px"><mi>a</mi></mstyle><mi>s</mi><mi>i</mi><mi>n</mi><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo stretchy="false">⟩</mo></mrow><annotation encoding="application/x-tex">\pmb{q} = \langle  cos \frac{\theta}{2} \quad \pmb{a} sin \frac{\theta}{2} \rangle </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord" style="text-shadow:0.02em 0.01em 0.04px"><span class="mord mathnormal" style="margin-right:0.03588em">q</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em"></span><span class="mopen">⟨</span><span class="mord mathnormal">cos</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em"></span><span class="mord" style="text-shadow:0.02em 0.01em 0.04px"><span class="mord mathnormal">a</span></span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⟩</span></span></span></span>
If <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle style="text-shadow:0.02em 0.01em 0.04px"><mi>a</mi></mstyle></mrow><annotation encoding="application/x-tex">\pmb{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord" style="text-shadow:0.02em 0.01em 0.04px"><span class="mord mathnormal">a</span></span></span></span></span> is unit length, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle style="text-shadow:0.02em 0.01em 0.04px"><mi>q</mi></mstyle></mrow><annotation encoding="application/x-tex">\pmb{q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord" style="text-shadow:0.02em 0.01em 0.04px"><span class="mord mathnormal" style="margin-right:0.03588em">q</span></span></span></span></span> will be also</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rotation-using-quaternions">Rotation using Quaternions<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#rotation-using-quaternions" class="hash-link" aria-label="Direct link to Rotation using Quaternions" title="Direct link to Rotation using Quaternions">​</a></h3>
<ul>
<li>Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mi>sin</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mi mathvariant="bold">u</mi></mrow><annotation encoding="application/x-tex">q = \cos\left(\frac{\theta}{2}\right) + \sin\left(\frac{\theta}{2}\right) \mathbf{u}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2301em;vertical-align:-0.35em"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.2301em;vertical-align:-0.35em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">u</span></span></span></span> be a unit quaternion: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>q</mi><mi mathvariant="normal">∣</mi><mo>=</mo><mi mathvariant="normal">∣</mi><mi mathvariant="bold">u</mi><mi mathvariant="normal">∣</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">|q| = |\mathbf{u}| = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">∣</span><span class="mord mathbf">u</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span></li>
<li>Let point <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">p</mi><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi><mi>i</mi><mo>+</mo><mi>y</mi><mi>j</mi><mo>+</mo><mi>z</mi><mi>k</mi></mrow><annotation encoding="application/x-tex">\mathbf{p} = (x,y,z) = xi + yj + zk</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord mathbf">p</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em"></span><span class="mord mathnormal">x</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mord mathnormal" style="margin-right:0.05724em">j</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.04398em">z</span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span></li>
<li>Then the product <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mi mathvariant="bold">p</mi><msup><mi>q</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">q \mathbf{p} q^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="mord mathbf">p</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> rotates the point <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">p</mi></mrow><annotation encoding="application/x-tex">\mathbf{p}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord mathbf">p</span></span></span></span> about axis <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">u</mi></mrow><annotation encoding="application/x-tex">\mathbf{u}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">u</span></span></span></span> by angle <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span></span></li>
<li>Inverse of a unit quaternion is its <em>conjugate</em>
<ul>
<li>...just negate the imaginary part</li>
</ul>
</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>q</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><msup><mrow><mo fence="true">(</mo><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mi>sin</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mi mathvariant="bold">u</mi><mo fence="true">)</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mo>−</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mi>sin</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mo>−</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mi mathvariant="bold">u</mi><mo>=</mo><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>−</mo><mi>sin</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mi>θ</mi><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mi mathvariant="bold">u</mi></mrow><annotation encoding="application/x-tex">q^{-1} = \left(\cos\left(\frac{\theta}{2}\right) + \sin\left(\frac{\theta}{2}\right) \mathbf{u}\right)^{-1} = \cos\left(-\frac{\theta}{2}\right) + \sin\left(-\frac{\theta}{2}\right) \mathbf{u} = \cos\left(\frac{\theta}{2}\right) - \sin\left(\frac{\theta}{2}\right) \mathbf{u}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.4341em;vertical-align:-0.35em"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">u</span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0841em"><span style="top:-3.333em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2301em;vertical-align:-0.35em"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.2301em;vertical-align:-0.35em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">u</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2301em;vertical-align:-0.35em"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.2301em;vertical-align:-0.35em"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">u</span></span></span></span></li>
<li>Composition of rotations <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>12</mn></msub><mo>=</mo><msub><mi>q</mi><mn>1</mn></msub><msub><mi>q</mi><mn>2</mn></msub><mo mathvariant="normal">≠</mo><msub><mi>q</mi><mn>2</mn></msub><msub><mi>q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">q_{12} = q_1 q_2 \neq q_2 q_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quaternion-to-matrix">Quaternion to Matrix<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#quaternion-to-matrix" class="hash-link" aria-label="Direct link to Quaternion to Matrix" title="Direct link to Quaternion to Matrix">​</a></h3>
<p>To convert a quaternion to a rotation matrix:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>−</mo><mn>2</mn><msubsup><mi>q</mi><mn>2</mn><mn>2</mn></msubsup><mo>−</mo><mn>2</mn><msubsup><mi>q</mi><mn>3</mn><mn>2</mn></msubsup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><msub><mi>q</mi><mn>1</mn></msub><msub><mi>q</mi><mn>2</mn></msub><mo>+</mo><mn>2</mn><msub><mi>q</mi><mn>0</mn></msub><msub><mi>q</mi><mn>3</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><msub><mi>q</mi><mn>1</mn></msub><msub><mi>q</mi><mn>3</mn></msub><mo>−</mo><mn>2</mn><msub><mi>q</mi><mn>0</mn></msub><msub><mi>q</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><msub><mi>q</mi><mn>1</mn></msub><msub><mi>q</mi><mn>2</mn></msub><mo>−</mo><mn>2</mn><msub><mi>q</mi><mn>0</mn></msub><msub><mi>q</mi><mn>3</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>−</mo><mn>2</mn><msubsup><mi>q</mi><mn>1</mn><mn>2</mn></msubsup><mo>−</mo><mn>2</mn><msubsup><mi>q</mi><mn>3</mn><mn>2</mn></msubsup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><msub><mi>q</mi><mn>2</mn></msub><msub><mi>q</mi><mn>3</mn></msub><mo>+</mo><mn>2</mn><msub><mi>q</mi><mn>0</mn></msub><msub><mi>q</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><msub><mi>q</mi><mn>1</mn></msub><msub><mi>q</mi><mn>3</mn></msub><mo>+</mo><mn>2</mn><msub><mi>q</mi><mn>0</mn></msub><msub><mi>q</mi><mn>2</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><msub><mi>q</mi><mn>2</mn></msub><msub><mi>q</mi><mn>3</mn></msub><mo>−</mo><mn>2</mn><msub><mi>q</mi><mn>0</mn></msub><msub><mi>q</mi><mn>1</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>−</mo><mn>2</mn><msubsup><mi>q</mi><mn>1</mn><mn>2</mn></msubsup><mo>−</mo><mn>2</mn><msubsup><mi>q</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
1 - 2q_2^2 - 2q_3^2 &amp; 2q_1q_2 + 2q_0q_3 &amp; 2q_1q_3 - 2q_0q_2 \\
2q_1q_2 - 2q_0q_3 &amp; 1 - 2q_1^2 - 2q_3^2 &amp; 2q_2q_3 + 2q_0q_1 \\
2q_1q_3 + 2q_0q_2 &amp; 2q_2q_3 - 2q_0q_1 &amp; 1 - 2q_1^2 - 2q_2^2
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.05em"><span class="pstrut" style="height:5.6em"></span><span style="width:0.667em;height:3.600em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.4519em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.05em"><span class="pstrut" style="height:5.6em"></span><span style="width:0.667em;height:3.600em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span></span></span>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="matrix-to-quaternion">Matrix to Quaternion<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#matrix-to-quaternion" class="hash-link" aria-label="Direct link to Matrix to Quaternion" title="Direct link to Matrix to Quaternion">​</a></h3>
<p>Matrix to quaternion is not hard</p>
<ul>
<li>it involves a few 'if' statements,</li>
<li>a square root,</li>
<li>three divisions,</li>
<li>and some other stuff</li>
</ul>
<p><code>tr(M)</code> is the trace</p>
<ul>
<li>sum of the diagonal elements</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>q</mi><mn>0</mn></msub><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><msqrt><mrow><mi>t</mi><mi>r</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo></mrow></msqrt></mrow><annotation encoding="application/x-tex">q_0 = \frac{1}{2} \sqrt{tr(M)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9839em"><span class="svg-align" style="top:-3.2em"><span class="pstrut" style="height:3.2em"></span><span class="mord" style="padding-left:1em"><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mclose">)</span></span></span><span style="top:-2.9439em"><span class="pstrut" style="height:3.2em"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2561em"><span></span></span></span></span></span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>q</mi><mn>1</mn></msub><mo>=</mo><mfrac><mrow><msub><mi>m</mi><mn>21</mn></msub><mo>−</mo><msub><mi>m</mi><mn>12</mn></msub></mrow><mrow><mn>4</mn><msub><mi>q</mi><mn>0</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">q_1 = \frac{m_{21} - m_{12}}{4q_0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.1408em;vertical-align:-0.8804em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>q</mi><mn>2</mn></msub><mo>=</mo><mfrac><mrow><msub><mi>m</mi><mn>02</mn></msub><mo>−</mo><msub><mi>m</mi><mn>20</mn></msub></mrow><mrow><mn>4</mn><msub><mi>q</mi><mn>0</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">q_2 = \frac{m_{02} - m_{20}}{4q_0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.1408em;vertical-align:-0.8804em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">02</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>q</mi><mn>3</mn></msub><mo>=</mo><mfrac><mrow><msub><mi>m</mi><mn>10</mn></msub><mo>−</mo><msub><mi>m</mi><mn>01</mn></msub></mrow><mrow><mn>4</mn><msub><mi>q</mi><mn>0</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">q_3 = \frac{m_{10} - m_{01}}{4q_0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.1408em;vertical-align:-0.8804em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">01</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<blockquote>
<p>This assumes <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span></span></span></span> is a 4x4 homogeneous rotation matrix...so the diagonal ends with a 1</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quaternion-dot-products">Quaternion Dot Products<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#quaternion-dot-products" class="hash-link" aria-label="Direct link to Quaternion Dot Products" title="Direct link to Quaternion Dot Products">​</a></h3>
<p>The dot product of two quaternions:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">p</mi><mo>⋅</mo><mi mathvariant="bold">q</mi><mo>=</mo><msub><mi>p</mi><mn>0</mn></msub><msub><mi>q</mi><mn>0</mn></msub><mo>+</mo><msub><mi>p</mi><mn>1</mn></msub><msub><mi>q</mi><mn>1</mn></msub><mo>+</mo><msub><mi>p</mi><mn>2</mn></msub><msub><mi>q</mi><mn>2</mn></msub><mo>+</mo><msub><mi>p</mi><mn>3</mn></msub><msub><mi>q</mi><mn>3</mn></msub><mo>=</mo><mi mathvariant="normal">∣</mi><mi mathvariant="bold">p</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi mathvariant="bold">q</mi><mi mathvariant="normal">∣</mi><mi>cos</mi><mo>⁡</mo><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\mathbf{p} \cdot \mathbf{q} = p_0q_0 + p_1q_1 + p_2q_2 + p_3q_3 = |\mathbf{p}||\mathbf{q}|\cos\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord mathbf">p</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord mathbf">q</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">∣</span><span class="mord mathbf">p</span><span class="mord">∣∣</span><span class="mord mathbf">q</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">ϕ</span></span></span></span></span>
<p>The angle between two quaternions in 4D space is <code>half</code> the angle one would need to rotate from one orientation to the other in 3D space.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quaternion-multiplication">Quaternion Multiplication<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#quaternion-multiplication" class="hash-link" aria-label="Direct link to Quaternion Multiplication" title="Direct link to Quaternion Multiplication">​</a></h3>
<p>We can perform multiplication on quaternions</p>
<ul>
<li>we expand them into their complex number form</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">q</mi><mo>=</mo><msub><mi>q</mi><mn>0</mn></msub><mo>+</mo><mi>i</mi><msub><mi>q</mi><mn>1</mn></msub><mo>+</mo><mi>j</mi><msub><mi>q</mi><mn>2</mn></msub><mo>+</mo><mi>k</mi><msub><mi>q</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">\mathbf{q} = q_0 + iq_1 + jq_2 + kq_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord mathbf">q</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.05724em">j</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>
<p>If <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">q</mi><mo>=</mo><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi mathvariant="bold">v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{q}=(s,\mathbf{v})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord mathbf">q</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf" style="margin-right:0.01597em">v</span><span class="mclose">)</span></span></span></span> represents a rotation and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><msup><mi mathvariant="bold">q</mi><mo mathvariant="bold" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo></mrow><mo stretchy="false">(</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{q'=}(s',\mathbf{v}') </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em"></span><span class="mord"><span class="mord"><span class="mord mathbf">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>represents a rotation,
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">q</mi><msup><mi mathvariant="bold">q</mi><mo mathvariant="bold" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">\mathbf{qq'}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathbf">q</span><span class="mord"><span class="mord mathbf">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span> represents <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">q</mi></mrow><annotation encoding="application/x-tex">\mathbf{q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord mathbf">q</span></span></span></span> rotated by <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="bold">q</mi><mo mathvariant="bold" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">\mathbf{q'}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathbf">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>This follows very similar rules as matrix multiplication (i.e., non-commutative)</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mi mathvariant="bold">q</mi><msup><mi mathvariant="bold">q</mi><mo mathvariant="bold" lspace="0em" rspace="0em">′</mo></msup></mrow><mo>=</mo><mo stretchy="false">(</mo><msub><mi>q</mi><mn>0</mn></msub><mo>+</mo><mi>i</mi><msub><mi>q</mi><mn>1</mn></msub><mo>+</mo><mi>j</mi><msub><mi>q</mi><mn>2</mn></msub><mo>+</mo><mi>k</mi><msub><mi>q</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msubsup><mi>q</mi><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo>+</mo><mi>i</mi><msubsup><mi>q</mi><mn>1</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo>+</mo><mi>j</mi><msubsup><mi>q</mi><mn>2</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo>+</mo><mi>k</mi><msubsup><mi>q</mi><mn>3</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{qq'} = (q_0 + iq_1 + jq_2 + kq_3)(q_0' + iq_1' + jq_2' + kq_3')</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9963em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathbf">q</span><span class="mord"><span class="mord mathbf">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">′</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.05724em">j</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0519em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0489em;vertical-align:-0.247em"></span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0489em;vertical-align:-0.247em"></span><span class="mord mathnormal" style="margin-right:0.05724em">j</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0519em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>=</mo><mo stretchy="false">⟨</mo><mi>s</mi><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>−</mo><mi mathvariant="bold">v</mi><mo>×</mo><msup><mi mathvariant="bold">v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo separator="true">,</mo><mi>s</mi><msup><mi mathvariant="bold">v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>+</mo><msup><mi>s</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="bold">v</mi><mo>+</mo><mi mathvariant="bold">v</mi><mo>×</mo><msup><mi mathvariant="bold">v</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo stretchy="false">⟩</mo></mrow><annotation encoding="application/x-tex">= \langle ss' - \mathbf{v} \times \mathbf{v}', s\mathbf{v}' + s'\mathbf{v} + \mathbf{v} \times \mathbf{v}' \rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0519em;vertical-align:-0.25em"></span><span class="mopen">⟨</span><span class="mord mathnormal">s</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathbf" style="margin-right:0.01597em">v</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9963em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">s</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8852em;vertical-align:-0.0833em"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord mathbf" style="margin-right:0.01597em">v</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathbf" style="margin-right:0.01597em">v</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0519em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em"><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">⟩</span></span></span></span></span>
<blockquote>
<p>It's just like multiplying 2 rotation matrices together...</p>
</blockquote>
<p>Two unit quaternions multiplied together results in another unit quaternion
This corresponds to the same property of complex numbers
Remember(?) multiplication by complex numbers is like a rotation in the complex plane
Quaternions extend the planar rotations of complex numbers to 3D rotations in space</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="linear-interpolation">Linear Interpolation<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#linear-interpolation" class="hash-link" aria-label="Direct link to Linear Interpolation" title="Direct link to Linear Interpolation">​</a></h3>
<ul>
<li>If we want to do a linear interpolation between two points <strong>a</strong> and <strong>b</strong> in normal space:</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Lerp</mtext><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><mi mathvariant="bold">b</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo><mi mathvariant="bold">a</mi><mo>+</mo><mi>t</mi><mi mathvariant="bold">b</mi></mrow><annotation encoding="application/x-tex">\text{Lerp}(t, \mathbf{a}, \mathbf{b}) = (1-t)\mathbf{a} + t\mathbf{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">Lerp</span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">t</span><span class="mord mathbf">b</span></span></span></span></span>
<p>where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em"></span><span class="mord mathnormal">t</span></span></span></span> ranges from 0 to 1.</p>
<ul>
<li>
<p>Note that the Lerp operation can be thought of as a weighted average (convex).</p>
</li>
<li>
<p>We could also write it in its additive blend form:</p>
</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Lerp</mtext><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><mi mathvariant="bold">b</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="bold">a</mi><mo>+</mo><mi>t</mi><mo stretchy="false">(</mo><mi mathvariant="bold">b</mi><mo>−</mo><mi mathvariant="bold">a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Lerp}(t, \mathbf{a}, \mathbf{b}) = \mathbf{a} + t(\mathbf{b}-\mathbf{a})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">Lerp</span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathbf">b</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathbf">a</span><span class="mclose">)</span></span></span></span></span>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="spherical-linear-interpolation">Spherical Linear Interpolation<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#spherical-linear-interpolation" class="hash-link" aria-label="Direct link to Spherical Linear Interpolation" title="Direct link to Spherical Linear Interpolation">​</a></h3>
<ul>
<li>
<p>If we want to interpolate between two points on a sphere (or hypersphere), we do not just want to Lerp between them</p>
</li>
<li>
<p>Instead, we will travel across the surface of the sphere by following a ‘great arc’
<img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.7-007b28f168b73481c49eeb857b7c37e4.png" width="626" height="566" class="img_ev3q"></p>
</li>
<li>
<p>The spherical linear interpolation of two unit quaternions <strong>a</strong> and <strong>b</strong> is:</p>
</li>
</ul>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Slerp</mtext><mo stretchy="false">(</mo><mi>t</mi><mo separator="true">,</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><mi mathvariant="bold">b</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi>sin</mi><mo>⁡</mo><mi>θ</mi></mrow></mfrac><mi mathvariant="bold">a</mi><mo>+</mo><mfrac><mrow><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>t</mi><mi>θ</mi><mo stretchy="false">)</mo></mrow><mrow><mi>sin</mi><mo>⁡</mo><mi>θ</mi></mrow></mfrac><mi mathvariant="bold">b</mi></mrow><annotation encoding="application/x-tex">\text{Slerp}(t, \mathbf{a}, \mathbf{b}) = \frac{\sin((1-t)\theta)}{\sin \theta}\mathbf{a} + \frac{\sin(t\theta)}{\sin \theta}\mathbf{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">Slerp</span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathbf">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">sin</span><span class="mopen">((</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em">tθ</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathbf">b</span></span></span></span></span>
<p>where:</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi><mo>=</mo><msup><mrow><mi>cos</mi><mo>⁡</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">(</mo><mi mathvariant="bold">a</mi><mo>⋅</mo><mi mathvariant="bold">b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\theta = \cos^{-1}(\mathbf{a} \cdot \mathbf{b})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">θ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em"></span><span class="mop"><span class="mop">cos</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathbf">b</span><span class="mclose">)</span></span></span></span></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quaternion-interpolation">Quaternion Interpolation<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#quaternion-interpolation" class="hash-link" aria-label="Direct link to Quaternion Interpolation" title="Direct link to Quaternion Interpolation">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.8-c652f9cdc45a05e65a48da0812d3f8e3.png" width="554" height="520" class="img_ev3q"></p>
<ul>
<li>Useful for animating objects between two poses</li>
<li>Not useful for all camera orientations<!-- -->
<ul>
<li>up vector can become tilted and annoy viewers</li>
<li>depends on application</li>
</ul>
</li>
<li>Interpolated path through SLERP rotates<!-- -->
<ul>
<li>around a fixed axis</li>
<li>at a constant speed</li>
<li>so, no acceleration</li>
</ul>
</li>
</ul>
<p>If we want to interpolate through a series of orientations <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">q</mi><mn mathvariant="bold">1</mn></msub><mo separator="true">,</mo><msub><mi mathvariant="bold">q</mi><mn mathvariant="bold">2</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi mathvariant="bold">q</mi><mi mathvariant="bold">n</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{q_1}, \mathbf{q_2}, \ldots, \mathbf{q_n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathbf">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathbf">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathbf">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1611em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, is SLERP a good choice?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chained-quaternion-interpolation">Chained Quaternion Interpolation<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#chained-quaternion-interpolation" class="hash-link" aria-label="Direct link to Chained Quaternion Interpolation" title="Direct link to Chained Quaternion Interpolation">​</a></h3>
<blockquote>
<p>When more than two orientations, say <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>q</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>q</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex"> q_0, q_1, ..., q_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span></span></span></span>, are available, and we want to interpolate from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">q_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">q_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">q_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>, and so on until <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">q_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span></span></span></span>, SLERP can be used in a straightforward fashion. However, using <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">q_{i-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> as arguments to SLERP, and then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">q_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span></span></span></span> as subsequent arguments, can cause sudden jerks to appear in the orientation.</p>
</blockquote>
<ul>
<li><strong>Can smooth the path by using a spherical curve instead of a straight line</strong></li>
</ul>
<blockquote>
<p>A better way to interpolate is to use some sort of spline. We introduce quaternions <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>a</mi><mo>^</mo></mover><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\hat{a}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mover accent="true"><mi>a</mi><mo>^</mo></mover><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\hat{a}_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span></span></span></span> between <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">q_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span></span></span></span>. Spherical cubic interpolation can be defined within the set of quaternions <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>a</mi><mo>^</mo></mover><mi>i</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>a</mi><mo>^</mo></mover><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">q_i, \hat{a}_i, \hat{a}_{i+1},</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">q_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span></span></span></span>. Surprisingly, these extra quaternions are computed as shown below:</p>
</blockquote>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mover accent="true"><mi>a</mi><mo>^</mo></mover><mi>i</mi></msub><mo>=</mo><msub><mi>q</mi><mi>i</mi></msub><mi>exp</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mrow><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><msubsup><mi>q</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>q</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><msubsup><mi>q</mi><mi>i</mi><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><msub><mi>q</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><mn>4</mn></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\hat{a}_i = q_i \exp\left(\frac{\log(q_{i-1}^{-1} q_i) + \log(q_i^{-1} q_{i+1})}{4}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.5295em;vertical-align:-0.95em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5794em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.7252em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">lo<span style="margin-right:0.01389em">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8542em"><span style="top:-2.4231em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.1031em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3352em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mop">lo<span style="margin-right:0.01389em">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8542em"><span style="top:-2.4231em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1031em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">)</span></span></span></span></span></span></span>
<p>The interpolation function, <strong>SQUAD</strong> (Spherical Quadrangle Interpolation), is defined as:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>squad</mtext><mo stretchy="false">(</mo><msub><mi>q</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>q</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>a</mi><mo>^</mo></mover><mi>i</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>a</mi><mo>^</mo></mover><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>slerp</mtext><mo stretchy="false">(</mo><mtext>slerp</mtext><mo stretchy="false">(</mo><msub><mi>q</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>q</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>slerp</mtext><mo stretchy="false">(</mo><msub><mover accent="true"><mi>a</mi><mo>^</mo></mover><mi>i</mi></msub><mo separator="true">,</mo><msub><mover accent="true"><mi>a</mi><mo>^</mo></mover><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mn>2</mn><mi>t</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>t</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{squad}(q_i, q_{i+1}, \hat{a}_i, \hat{a}_{i+1}, t) = \text{slerp}(\text{slerp}(q_i, q_{i+1}, t), \text{slerp}(\hat{a}_i, \hat{a}_{i+1}, t), 2t(1 - t))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">squad</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">slerp</span></span><span class="mopen">(</span><span class="mord text"><span class="mord">slerp</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord text"><span class="mord">slerp</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em"><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord mathnormal">a</span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="accent-body" style="left:-0.25em"><span class="mord">^</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">2</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">t</span><span class="mclose">))</span></span></span></span></span>
<p>This approach allows for a smooth transition between quaternions, minimizing abrupt changes in orientation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="interpolating-quaternions-the-hack">Interpolating Quaternions: The Hack<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#interpolating-quaternions-the-hack" class="hash-link" aria-label="Direct link to Interpolating Quaternions: The Hack" title="Direct link to Interpolating Quaternions: The Hack">​</a></h3>
<p>Interpolating quaternions should be done on the surface of a 3D unit sphere embedded in 4D space.
However, much simpler interpolation along a 4D straight line (open circles) followed by reprojection of the results onto the sphere (black circles) is often sufficient.
<img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/w10.9-e4b73b751edc865834e0d378bf7a8d76.png" width="362" height="404" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tf">T/F<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#tf" class="hash-link" aria-label="Direct link to T/F" title="Direct link to T/F">​</a></h3>
<ul>
<li>(T) Any orientation expressed as a quaternion can be expressed using Euler angles.</li>
<li>(T) An Euler angle representation of an orientation uses less data than a quaternion representation.</li>
<li>(F) The three axes used for the Euler angle representation must be unique. For example, using the X axis, then the Y axis and then the X axis would not work.</li>
<li>(T) Changing the order of rotation can affect the result. For example, switching from an XYZ order to a YXZ order may change the orientation even if the three angles remain the same.</li>
</ul>
<h1>Game Physics</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="simple-physics-engine">Simple Physics Engine<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#simple-physics-engine" class="hash-link" aria-label="Direct link to Simple Physics Engine" title="Direct link to Simple Physics Engine">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-timestep">The Timestep<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#the-timestep" class="hash-link" aria-label="Direct link to The Timestep" title="Direct link to The Timestep">​</a></h3>
<p>How does the timestep effect the accuracy of the engine?
How would you see that error in a game?
Timestep in games uses wall-clock time (sometimes a scaled version)</p>
<ul>
<li>Also related to framerate</li>
</ul>
<p>If the physics timestep is tied to the framerate, what can happen?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ue-substepping">UE Substepping<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#ue-substepping" class="hash-link" aria-label="Direct link to UE Substepping" title="Direct link to UE Substepping">​</a></h3>
<p>In UE look at Project Settings &gt; Engine &gt; Physics</p>
<ul>
<li>Substepping creates a degree of framerate independence for physics</li>
<li>When framerate drops, Unreal will add extra physics iterations</li>
<li>Physics timestep will not exceed the max delta time</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="collision-detection">Collision Detection<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#collision-detection" class="hash-link" aria-label="Direct link to Collision Detection" title="Direct link to Collision Detection">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bounding-volumes">Bounding Volumes<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#bounding-volumes" class="hash-link" aria-label="Direct link to Bounding Volumes" title="Direct link to Bounding Volumes">​</a></h3>
<p>AABB=Axis Aligned Bounding Box
OOBB = Object-Oriented Bounding Box
BVH = Bounding Volume Hierarchy</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bvh-construction">BVH Construction<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#bvh-construction" class="hash-link" aria-label="Direct link to BVH Construction" title="Direct link to BVH Construction">​</a></h3>
<p>Can be constructed top down:</p>
<ol>
<li>Compute bounding volume enclosing all of the geometry</li>
<li>Split the geometry into two or more groups</li>
<li>Compute bounding volume for each group</li>
<li>Recurse</li>
<li>Leaf nodes will enclose only one geometric primitive</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bvh-howto-split">BVH: Howto Split<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#bvh-howto-split" class="hash-link" aria-label="Direct link to BVH: Howto Split" title="Direct link to BVH: Howto Split">​</a></h4>
<ul>
<li>Can compute a centroid for each geometric primitive<!-- -->
<ul>
<li>Split on median centroid, along longest axis</li>
<li>Split on average centroid, along longest axis</li>
</ul>
</li>
<li>More sophisticated splitting criteria can be used<!-- -->
<ul>
<li>E.g. Surface Area Heuristic used on BVHs for ray-tracing</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="bvh-howto-collide">BVH: Howto Collide<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#bvh-howto-collide" class="hash-link" aria-label="Direct link to BVH: Howto Collide" title="Direct link to BVH: Howto Collide">​</a></h4>
<ul>
<li>
<p>In a single BVH for scene</p>
<ul>
<li>Two geometric primitives can overlap only if their volumes overlap</li>
</ul>
</li>
<li>
<p>Or, BVHs can be used for each composite object (e.g. mesh)</p>
<ul>
<li>A search tree is constructed that records descent into each BVH</li>
<li>Determines if any cells overlap</li>
</ul>
</li>
</ul>
<h1>Introduction to Ray Tracing</h1>
<h1>Rendering</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ue-5-lumen">UE 5 Lumen<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#ue-5-lumen" class="hash-link" aria-label="Direct link to UE 5 Lumen" title="Direct link to UE 5 Lumen">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="global-illumination">Global Illumination<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#global-illumination" class="hash-link" aria-label="Direct link to Global Illumination" title="Direct link to Global Illumination">​</a></h3>
<blockquote>
<p>“Global illumination…is a group of algorithms used in 3D computer graphics that are meant to add more realistic lighting to 3D scenes. Such algorithms take into account not only the light that comes directly from a light source (direct illumination), but also subsequent cases in which light rays from the same source are reflected by other surfaces in the scene, whether reflective or not (indirect illumination).
Theoretically, reflections, refractions, and shadows are all examples of global illumination, because when simulating them, one object affects the rendering of another (as opposed to an object being affected only by a direct source of light). In practice, however, only the simulation of diffuse inter-reflection or caustics is called global illumination.*” -- Wikipedia</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lumen">Lumen<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#lumen" class="hash-link" aria-label="Direct link to Lumen" title="Direct link to Lumen">​</a></h3>
<p>Lumen is Unreal Engine 5's fully dynamic global illumination and reflections system</p>
<ul>
<li>Enabled out of the box.</li>
<li>Designed for next-generation consoles</li>
<li>Supports high-end visualizations like architectural visualization</li>
</ul>
<blockquote>
<p>“Lumen uses multiple ray-tracing methods to solve Global Illumination and Reflections.
Screen Traces are done first, followed by a more reliable method. Lumen uses Software Ray Tracing through Signed Distance Fields by default, but can achieve higher quality on supporting video cards when Hardware Ray Tracing is enabled.”</p>
</blockquote>
<h1>Game AI</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tactical-waypoints">Tactical Waypoints<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#tactical-waypoints" class="hash-link" aria-label="Direct link to Tactical Waypoints" title="Direct link to Tactical Waypoints">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tactical-and-strategic-ai">Tactical and Strategic AI<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#tactical-and-strategic-ai" class="hash-link" aria-label="Direct link to Tactical and Strategic AI" title="Direct link to Tactical and Strategic AI">​</a></h3>
<p>Previously discuss pathfinding and decision making</p>
<ul>
<li>A*</li>
<li>Decision trees</li>
</ul>
<p>Limitations</p>
<ul>
<li>Intended for use by a single character (no intelligent coordination between characters)</li>
<li>Lack ability predict strategic or “big picture” outcomes</li>
<li>Poor utilization of environment to tactical advantage</li>
</ul>
<p>Tactical and strategic AI try to overcome these limitations</p>
<ul>
<li>Not needed in some game genres e.g. platformers or simple shooters</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tactical-waypoints-1">Tactical Waypoints<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#tactical-waypoints-1" class="hash-link" aria-label="Direct link to Tactical Waypoints" title="Direct link to Tactical Waypoints">​</a></h3>
<ul>
<li>Waypoint is a position in a game level used in pathfinding at intermediate nodes along a route</li>
<li>Can use waypoints for other kind of decision making<!-- -->
<ul>
<li>Can add data indicating special tactical features</li>
<li>Sometimes called “rally points”</li>
<li>Examples…<!-- -->
<ul>
<li>Safe spot designated for troops to retreat to…</li>
<li>Cover points or sniper positions</li>
<li>Heavily shadowed areas</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1>Game Design</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-design-process">High-Level Design Process<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#high-level-design-process" class="hash-link" aria-label="Direct link to High-Level Design Process" title="Direct link to High-Level Design Process">​</a></h2>
<ul>
<li>
<p>Designing from a high-level vision</p>
</li>
<li>
<p>Analogous to other industries</p>
<ul>
<li>User types</li>
<li>User experiences</li>
<li>Systems first then features</li>
</ul>
</li>
<li>
<p>Getting better at the process</p>
<ul>
<li>We are a young industry<!-- -->
<ul>
<li>Rockstar</li>
<li>Ubisoft</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="principles-of-design">Principles of Design:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#principles-of-design" class="hash-link" aria-label="Direct link to Principles of Design:" title="Direct link to Principles of Design:">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="starting-points">Starting Points<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#starting-points" class="hash-link" aria-label="Direct link to Starting Points" title="Direct link to Starting Points">​</a></h3>
<p>Design is an exercise in constraints</p>
<ul>
<li>Technical</li>
<li>Narrative/World</li>
<li>Time/Resources/Scope</li>
</ul>
<p>Player Choice as a key constraint</p>
<ul>
<li>Some games offer little choice (the designer experience)</li>
<li>Others are more-wide open</li>
</ul>
<p>Make sure you understand the project requirements</p>
<ul>
<li>Saints Row 3 and the over-developed missions/Co-op</li>
<li>Processes can be constraints<!-- -->
<ul>
<li>“Fail Fast”</li>
</ul>
</li>
</ul>
<p>All apps/games start with an IDEA
There is so much more to what you want to build
The primary role of a designer is to clearly communicate how that IDEA fits into an App/Game (the bigger picture, the Vision)
What happens without that clarity?</p>
<ul>
<li>Confusion</li>
<li>Delay</li>
<li>People building to their own vs. the required standards</li>
</ul>
<p>The question is: what focuses the design, what drives the definition of the Vision?</p>
<p>Once you have an idea, set a genre and then build a world around it</p>
<ul>
<li>
<p>Provides Context</p>
</li>
<li>
<p>Provides Consistency</p>
</li>
<li>
<p>Expand upon the idea to provide depth</p>
<ul>
<li>An idea is a feature in most cases, a feature is not a game</li>
<li>Why is the world the way it is? Leads to new complementary ideas</li>
<li>Examples: Renegade and Red Faction Guerrilla</li>
</ul>
</li>
<li>
<p>Improve Immersion/Presence</p>
<ul>
<li>Most games are Skill Challenges</li>
<li>Skill develops over time, the world encourages retention</li>
<li>Interactivity can add another layer</li>
</ul>
</li>
</ul>
<p>Player Types define the core interests of the user we are targeting with our features.</p>
<p>Example: Minecraft</p>
<ul>
<li>The Collector:<!-- -->
<ul>
<li>This user requires the opportunity to gather items and build a large stockpile of items.</li>
</ul>
</li>
<li>The Builder:<!-- -->
<ul>
<li>This user type enjoys creating different imaginative items from the resources available.</li>
</ul>
</li>
</ul>
<p>Define your User Experience(s):</p>
<ul>
<li>The different emotional responses we are trying to elicit with our app/game features</li>
<li>Example: We want the gamer to be in awe when they face the challenges of our world.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mda">MDA<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#mda" class="hash-link" aria-label="Direct link to MDA" title="Direct link to MDA">​</a></h2>
<p>Mechanics: The rules and concepts that formally specify the game-as-system.
Dynamics: The run-time behavior of the game-as-system.
Aesthetics: The desirable emotional responses evoked by the game dynamics.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="8-kinds-of-fun">8 Kinds of Fun<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/29/cs415/#8-kinds-of-fun" class="hash-link" aria-label="Direct link to 8 Kinds of Fun" title="Direct link to 8 Kinds of Fun">​</a></h3>
<ol>
<li>Sensation: Game as sense-pleasure
Games that evoke emotion in the player through sound, visuals, controller rumble or physical effort.</li>
<li>Fantasy: Game as make-believe
Game as a mean to take the player to another world, some call it escapism.</li>
<li>Narrative: Game as drama
Game as a mean to tell a story or narrative to the player.</li>
<li>Challenge: Game as obstacle course
Games that provide the player(s) with highly competitive value or with increasingly difficult challenges.</li>
<li>Fellowship: Game as social framework
Games that have social interactions as its core or as a big feature.</li>
<li>Discovery: Game as uncharted territory
Games in which the player explores the world he/she finds himself/herself in.</li>
<li>Expression: Game as self-discovery
Games that allow for self-expression from the player through gameplay.</li>
<li>Masochism: Game as submission
Games that have "farming" or "grinding" as a core element.</li>
</ol>
<h1>Reference</h1>
<p><a href="https://illinois-cs415.github.io/" target="_blank" rel="noopener noreferrer">https://illinois-cs415.github.io</a></p>]]></content>
        <author>
            <name>Yuxuan (Jerry) Lin</name>
            <uri>https://www.linkedin.com/in/yuxuan0/</uri>
        </author>
        <category label="CG" term="CG"/>
        <category label="SDE" term="SDE"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[TOEFL Template | 托福模版]]></title>
        <id>https://JerryLinyx.github.io/Doc/blog/2024/04/18/toefl/</id>
        <link href="https://JerryLinyx.github.io/Doc/blog/2024/04/18/toefl/"/>
        <updated>2024-04-18T20:29:13.000Z</updated>
        <summary type="html"><![CDATA[Integrated Writing]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="integrated-writing">Integrated Writing<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#integrated-writing" class="hash-link" aria-label="Direct link to Integrated Writing" title="Direct link to Integrated Writing">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="template1">Template1<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#template1" class="hash-link" aria-label="Direct link to Template1" title="Direct link to Template1">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/Untitled-8e3a1124c1a9462bd78dd56b84f61c02.png" width="2000" height="2386" class="img_ev3q"></p>
<p>The reading and the lecture are about …The author in the reading material cites three reasons to support the viewpoint that … In the listening material, nevertheless, the lecturer argues that … and opposes all those theories in the reading material.</p>
<p>First, the author suggests that … However, the lecturer offers an opposite stand that…</p>
<p>In addition, in contrast to the author’s another reason that … the lecturer contends that…</p>
<p>Finally, the lecturer cast doubt on the last reason in the reading that … since … he also demonstrates that …</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="template2">Template2<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#template2" class="hash-link" aria-label="Direct link to Template2" title="Direct link to Template2">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/integradewriting2-a314bf36ae34017609d32d0da093fd10.png" width="1316" height="1518" class="img_ev3q">
The passage and the accompanying lecture discuss divergent perspectives on [topic]. While the author presents three compelling arguments in favor of [main viewpoint], the lecturer vehemently opposes these assertions, offering a counterargument that challenges each point raised in the reading material.</p>
<p>Initially, the author posits that [first reason]. However, the lecturer presents a contrasting viewpoint, asserting that [counterargument].</p>
<p>Moreover, in direct contrast to the author's assertion regarding [second reason], the lecturer contends that [opposing viewpoint], providing compelling evidence to support this assertion.</p>
<p>Lastly, the lecturer scrutinizes the final argument proposed in the reading, which suggests that [third reason]. However, the lecturer raises doubts about this claim by highlighting [counterpoint]. Furthermore, the lecturer substantiates their argument by demonstrating [additional evidence or reasoning].</p>
<p>Overall, while the reading material puts forth a convincing argument, the lecture effectively challenges each point raised, offering a more nuanced perspective on [topic].</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="academic-discussion">Academic Discussion<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#academic-discussion" class="hash-link" aria-label="Direct link to Academic Discussion" title="Direct link to Academic Discussion">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/AcademicDiscussion0-dd16fd26b2b3c508d55c8e87fa1e65ba.png" width="832" height="124" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="technology"><strong>Technology</strong><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#technology" class="hash-link" aria-label="Direct link to technology" title="Direct link to technology">​</a></h3>
<p><em><strong>Positive impact</strong></em></p>
<ul>
<li>Makes our life easier</li>
<li>Technological advancements</li>
<li>Connect people all around the world &gt;&gt; facilitate globalization</li>
<li>Lead to the development of …</li>
<li>There’s been a breakthrough in …</li>
<li>Accomplish things we could hardly imagine in the past, e.g.,……</li>
</ul>
<p><em><strong>Negative impact</strong></em></p>
<ul>
<li>Increased screen time leads to health concerns (poor eyesight, chronic neck and back problems, obesity, sleep problems)</li>
<li>Instant rewards &gt;&gt; distractions, temptations, addiction</li>
<li>Triggers body image anxiety</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="relationship"><strong>Relationship</strong><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#relationship" class="hash-link" aria-label="Direct link to relationship" title="Direct link to relationship">​</a></h3>
<ul>
<li>Strengthen/deepen the bonds between …</li>
<li>Expand interpersonal connections;</li>
<li>Practice communicative/social skills;</li>
<li>Exchange perspectives/ideas/thoughts;</li>
<li>Promote critical thinking and problem-solving ability;</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="learning"><strong>Learning</strong><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#learning" class="hash-link" aria-label="Direct link to learning" title="Direct link to learning">​</a></h3>
<ul>
<li>Enrich knowledge</li>
<li>Acquire new skills such as …</li>
<li>Broaden horizon</li>
<li>Accumulate life/working experience</li>
<li>Discover new interests</li>
<li>free of distractions/temptations</li>
<li>become more concentrated/focused on…</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exercising"><strong>Exercising</strong><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#exercising" class="hash-link" aria-label="Direct link to exercising" title="Direct link to exercising">​</a></h3>
<ul>
<li>improve health condition</li>
<li>Exercise muscles and build up strengths</li>
<li>Boost respiratory functions</li>
<li>Promote cardiovascular circulation/metabolism</li>
<li>Reinforce immune system</li>
<li>Enhance flexibility, balance and coordination</li>
<li>Get rid of chronic diseases like obesity, high blood pressure/hypertension, and diabetes</li>
<li>Keep fit/keep a good figure/shape</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="traveling"><strong>Traveling</strong><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#traveling" class="hash-link" aria-label="Direct link to traveling" title="Direct link to traveling">​</a></h3>
<ul>
<li>Gain an insight into other cultures/traditions/customs/conventions</li>
<li>Become more open-minded</li>
<li>Establish a global view</li>
<li>Enhance language proficiency</li>
<li>Get rid of stereotypes and over-generalizations</li>
<li>Embrace cultural differences</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="money"><strong>Money</strong><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#money" class="hash-link" aria-label="Direct link to money" title="Direct link to money">​</a></h3>
<ul>
<li>Earn money for tuition fee/living expense</li>
<li>Relieve/alleviate family burden</li>
<li>It is cost-effective</li>
<li>have a tight budget</li>
<li>Price is always the main factor that drives/influences people’s decision</li>
<li>Financial concerns always lead to all kinds of mental sufferings.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="relaxation--mental-well-being"><strong>Relaxation &amp; Mental Well-being</strong><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#relaxation--mental-well-being" class="hash-link" aria-label="Direct link to relaxation--mental-well-being" title="Direct link to relaxation--mental-well-being">​</a></h3>
<ul>
<li>Escape from/release academic pressure</li>
<li>Wind down/ unwind oneself</li>
<li>Get plenty of rest and relaxation</li>
<li>Have a fresher mind</li>
<li>Feel more motivated to study</li>
<li>Restore energy, recharge oneself</li>
<li>Mentally-draining, under tremendous pressure</li>
<li>Suffered from burn-out</li>
<li>feel overwhelmed/exhausted</li>
<li>Pull myself together</li>
<li>Take the edge off;<!-- -->
<ul>
<li>e.g., It’s just something to take the edge off.</li>
<li>At sunset in the islands, a nice cool breeze takes the edge off the hot weather</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="phrases--sentences">Phrases &amp; Sentences<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#phrases--sentences" class="hash-link" aria-label="Direct link to Phrases &amp; Sentences" title="Direct link to Phrases &amp; Sentences">​</a></h3>
<p>The Great Depression
New Deal enacted by Roosevelt, Hoover Dam
Layman’s eye
Virtuous cycle</p>
<p>Not by arguing, but by trying. ——Francis Bacon
There are a thousand Hamlets in a thousand people's eyes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="templates-130150-words">Templates (130~150 words)<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#templates-130150-words" class="hash-link" aria-label="Direct link to Templates (130~150 words)" title="Direct link to Templates (130~150 words)">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/ADstructure-48db45dc198f494c09cb59d55583e243.png" width="1272" height="720" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/ADTemplate-511d19d36c4a95a39b0bff2a4cd97778.png" width="1198" height="720" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/ADTemplate3-aba4d48777f087082fa7af5b74e86625.png" width="1510" height="760" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/ADTemplate1-9e8604255052423dd30ff6293acc0eba.png" width="1080" height="1207" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/ADTemplate2-34993cce83b114d83f8f1dae9d0d24fa.png" width="1280" height="709" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/ADTopics-73ed16f9b70e38b2ade1713d497bdc83.png" width="1280" height="639" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/ADTemplate4-544061bbb96456bd2699baef2065a8da.png" width="1570" height="532" class="img_ev3q"></p>
<p>[1] I am deeply convinced of …</p>
<p>[2] I completely align with Sam's belief that …</p>
<p>[3] Beyond this, …</p>
<p>[4]</p>
<p>[5] While Sarah highlighted the …, she overlooked the …</p>
<p>[6]</p>
<p>[7] In summary, my firm belief is that …</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h3>
<p>[1] From my perspective, students should be given grades. [2] Grades, when accompanied by constructive feedback, offer valuable insights into a student’s performance. [3] This feedback is crucial for learning and development, as it guides students in understanding their mistakes and learning from them. [4] It also provides a roadmap for both students and teachers to focus their efforts more effectively. By highlighting strengths and weaknesses, grades combined with feedback can significantly enhance a student’s learning experience.</p>
<p>[5] While it's true that grades can foster competition, this isn't inherently negative. [6] Competition, when framed positively, can motivate students to strive for excellence and can prepare them for real-world scenarios where performance is often measured against peers. The key is to balance this with collaborative learning opportunities that emphasize teamwork and collective achievement, showing that individual success does not have to come at the expense of others.
[7] In summary, assigning grades to students does more good than harm.</p>
<p>[1] I strongly advocate for the imposition of taxes on unhealthy products. [2] I completely align with Sam's belief that such taxes could significantly reduce the prevalence of major health issues in society. [3] Additionally, I propose that a portion of the revenue generated from these taxes should be directed towards health and nutrition research and development. [4] This could include funding for studies that investigate the impact of unhealthy foods, the development of healthier food alternatives, and the discovery of new strategies to promote better dietary habits across different population segments. Investing in this research could yield long-term solutions and insights crucial for tackling dietary-related health problems.
[5] Tanya raised a concern about the possibility of individuals opting for lower-quality goods as a cost-saving measure, but she overlooked the potential for government interventions [6] such as subsidies, incentives, or support programs aimed at making healthier food options more accessible and affordable. By implementing these measures alongside the unhealthy food tax, it ensures that nutritious alternatives are available, preventing people from turning to inferior quality products.
[7] To sum up, I am a firm proponent of taxing unhealthy products.</p>
<p>[1] I am deeply convinced of the vast benefits that social media brings to the table. [2] I fully agree with Mark's view that social media has the power to uplift voices that have traditionally been ignored, offering them a platform for expression. [3] Beyond this, social media serves as a cost-effective and efficient way for businesses to engage with their audience, showcase their products or services, and expand their market reach. [4] The influence of user-generated content, such as reviews and personal narratives, is pivotal in guiding consumer decisions, thereby building trust and loyalty towards a brand. This vibrant, interactive space allows businesses to flourish and adapt within the constantly evolving digital landscape.
[5] While Sarah highlighted the impact of social media on youth mental health, she overlooked the possibility of mitigating these issues. [6] Implementing more rigorous policies and reporting systems is crucial. Fostering digital literacy and empathy among users, raising awareness of the consequences of online behavior, and offering mental health support resources can help cultivate a more secure and supportive online community.
[7] In summary, my firm belief is that the advantages offered by social media are significant.</p>
<p>[1] Personally, I don't see targeted advertising as a matter of ethical concern. Echoing Mike's sentiment, I believe individuals have the choice to opt-out if targeted advertising does not sit well with them. I'd like to add that targeted advertising offers a strategic advantage to businesses through the personalization of advertising messages. This personalization significantly enhances the likelihood of a message striking a chord with consumers on an individual basis. In turn, this fosters stronger and more meaningful connections between brands and their customers, leading to improved engagement, fostering brand loyalty, and potentially boosting sales and customer retention.
Jessica pointed out the necessity for companies to craft advertisements that appeal to a broad audience. However, she overlooked the fact that as more brands lean into targeted advertising, those sticking exclusively to general advertising strategies risk losing their competitive advantage. Such brands may become out of touch or irrelevant to modern consumers who prefer personalized content.
From my perspective, targeted advertising does not raise ethical issues.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="independent-writing-outdated">Independent Writing (Outdated)<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#independent-writing-outdated" class="hash-link" aria-label="Direct link to Independent Writing (Outdated)" title="Direct link to Independent Writing (Outdated)">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-points-macro-expandable-compatible">High level points (macro, expandable, compatible):<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#high-level-points-macro-expandable-compatible" class="hash-link" aria-label="Direct link to High level points (macro, expandable, compatible):" title="Direct link to High level points (macro, expandable, compatible):">​</a></h3>
<p>Effectiveness and efficiency
Economy and finance
Technology and internet
Health and environment
Culture and globalization
Social relationship
Career development
Social equality</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="opening-intriguing-coherent-clear">Opening (intriguing, coherent, clear):<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#opening-intriguing-coherent-clear" class="hash-link" aria-label="Direct link to Opening (intriguing, coherent, clear):" title="Direct link to Opening (intriguing, coherent, clear):">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hook">Hook:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#hook" class="hash-link" aria-label="Direct link to Hook:" title="Direct link to Hook:">​</a></h4>
<p>It’s hard to deny that (opposite point) and such a fact leads impressionable people to generate the opinion that (opposite response).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="transition">Transition:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#transition" class="hash-link" aria-label="Direct link to Transition:" title="Direct link to Transition:">​</a></h4>
<p>However, such a statement suffers from both logical and factual fallacies, and it should be examined meticulously.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="points">Points:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#points" class="hash-link" aria-label="Direct link to Points:" title="Direct link to Points:">​</a></h3>
<p>As far as (point1) (point2), and (point3) are concerned, I strongly hold the belief that…
e.g. In modern days, it might appear to some that their privacy is compromised due to increasing monitoring on their activities through cellphone tracking, CCTV, and other security measures, especially when people are not aware of the monitoring; others maintain that the tax we pay is wasted on such expensive measures. While these ideas have their base, they need to be scrutinized meticulously before we reach a conclusion. In my opinion, the advantages of the development significantly outweigh drawbacks in terms of economy, and privacy.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reasoning-coherent-adequate-consistent">Reasoning (coherent, adequate, consistent)<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#reasoning-coherent-adequate-consistent" class="hash-link" aria-label="Direct link to Reasoning (coherent, adequate, consistent)" title="Direct link to Reasoning (coherent, adequate, consistent)">​</a></h3>
<p>First and foremost, (Point 1), as (Fact1).
Meanwhile, (Fact2).
Not to mention that (Fact3). (follow &amp; fight)</p>
<p>Furthermore (follow)
On the other hand (fight )
Optional Filler: summary / conclusion / what if / example etc.
<img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/IndependentReasoning-b8f0a295cd666ae3072fcb2164aba0b1.png" width="1070" height="720" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exemplification-generality-adequate-coherent">Exemplification (generality, adequate, coherent):<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#exemplification-generality-adequate-coherent" class="hash-link" aria-label="Direct link to Exemplification (generality, adequate, coherent):" title="Direct link to Exemplification (generality, adequate, coherent):">​</a></h3>
<p>Furthermore, the fact that (point2 mid level) indicates that (point 2 high level).
Take the case of (character), who/which (process). As a result, (result).
Had it not been for (process), (character) would never (result).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="concession">Concession:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#concession" class="hash-link" aria-label="Direct link to Concession:" title="Direct link to Concession:">​</a></h3>
<p>Nevertheless, a voice arises that ().
Ironically, ().
Therefore, (Point3).
Ending:
##In conclusion, I maintain that ().
Admittedly, as my favorite quote from () goes, (), and some people may oppose me
However, I believe they will compromise after being exposed to my article.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ending">Ending:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#ending" class="hash-link" aria-label="Direct link to Ending:" title="Direct link to Ending:">​</a></h3>
<p>As was stated above, … is what I maintain
Give priority to instead of
Divert resources to
Place a heavy emphasis on</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="brainstorming">Brainstorming:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#brainstorming" class="hash-link" aria-label="Direct link to Brainstorming:" title="Direct link to Brainstorming:">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="time">Time:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#time" class="hash-link" aria-label="Direct link to Time:" title="Direct link to Time:">​</a></h4>
<p>occupy/eat into precious but limited time</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="economy">Economy:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#economy" class="hash-link" aria-label="Direct link to Economy:" title="Direct link to Economy:">​</a></h4>
<p>affordable/cost-effective
lay/impose a financial burden on</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="health-mental-and-physical">Health (mental and physical):<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#health-mental-and-physical" class="hash-link" aria-label="Direct link to Health (mental and physical):" title="Direct link to Health (mental and physical):">​</a></h4>
<p>release pressure and alleviate fatigue
sth serves as an outlet for my negative emotions
sth calm my nerves and restore my soul</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="relationship-1">Relationship:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#relationship-1" class="hash-link" aria-label="Direct link to Relationship:" title="Direct link to Relationship:">​</a></h4>
<p>Make more contacts
Pick up with like-minded friends
broaden/enlarge/expand social networks/friend circle
fair-weather friends 酒肉朋友</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="knowledge">Knowledge:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#knowledge" class="hash-link" aria-label="Direct link to Knowledge:" title="Direct link to Knowledge:">​</a></h4>
<p>broaden knowledge base and enrich social experiences</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="technology-internet-transportation-health-care">Technology (Internet, transportation, health care):<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#technology-internet-transportation-health-care" class="hash-link" aria-label="Direct link to Technology (Internet, transportation, health care):" title="Direct link to Technology (Internet, transportation, health care):">​</a></h4>
<p>unprecedented advancement of science and technology
scientific and technological breakthrough/ technology develops in leaps and bounds</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="government">Government:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#government" class="hash-link" aria-label="Direct link to Government:" title="Direct link to Government:">​</a></h4>
<p>make laws/ carry out policies/ enact regulations
government funding/grant/subsidy</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#environment" class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment">​</a></h4>
<p>severely contaminated environment
increasing pressure/ hectic schedule/ intense and demanding life pace/ overbooked schedule
be faced with/ be confronted with/ be overload with</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="awareness">Awareness:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#awareness" class="hash-link" aria-label="Direct link to Awareness:" title="Direct link to Awareness:">​</a></h4>
<p>raise awareness</p>
<h1>Speaking</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="task1">Task1<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#task1" class="hash-link" aria-label="Direct link to Task1" title="Direct link to Task1">​</a></h2>
<p><img decoding="async" loading="lazy" alt="截屏2024-03-12 上午2.12.29.png" src="https://jerrylinyx.github.io/Doc/assets/images/task1-5b18c5abf5184ed71d6c548fbe13a97d.png" width="1424" height="718" class="img_ev3q"></p>
<p><strong>万能理由：</strong></p>
<p><strong>1.金钱</strong></p>
<p><strong>2.时间</strong></p>
<p><strong>3.健康</strong></p>
<p><strong>4.方便</strong></p>
<p><strong>5.提升能力/学习</strong></p>
<p><strong>6.交朋友/社交</strong></p>
<p><strong>7.积极的感受（骄傲，放松，自信，动力,有趣）</strong></p>
<p><strong>8.效率</strong></p>
<p><strong>9.职业发展</strong></p>
<p><strong>Tips：</strong></p>
<p>1.常举例子，for&nbsp;example， such&nbsp;as……，on the contrary</p>
<p>2.没有思路的时候可以尝试mixed&nbsp;opinion:&nbsp;I kind of have a mixed opinion towards…… first off, I&nbsp;partly agree that……however, I am also worried that……</p>
<p>3.要是时间没说够，最后总结：because of the two reasons, I……</p>
<p>4.避免重复提及某个名词</p>
<p>具体：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1金钱">1.金钱<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#1%E9%87%91%E9%92%B1" class="hash-link" aria-label="Direct link to 1.金钱" title="Direct link to 1.金钱">​</a></h3>
<p>Cause a heavy financial burden, tough on my budget</p>
<p>Achieve my financial goal to buy a car and a house</p>
<p>Alleviate a financial burden to live a more comfortable life</p>
<p>Pay my study loans and debts, insurance</p>
<p>A higher salary gives me the capacity to treat my parents better, vacation, medicine treatment</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2时间">2.时间<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#2%E6%97%B6%E9%97%B4" class="hash-link" aria-label="Direct link to 2.时间" title="Direct link to 2.时间">​</a></h3>
<p>Time-consuming</p>
<p>Over-occupied with so many works, laboratory assignment, academic tasks, cause heavy burden and pressure to them</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3健康">3.健康<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#3%E5%81%A5%E5%BA%B7" class="hash-link" aria-label="Direct link to 3.健康" title="Direct link to 3.健康">​</a></h3>
<p>Help students to stay in shape, burning calories, stay healthy and gain a robust body, reduce the risks of some diseases like obesity and heart diseases</p>
<p>Increase the risks of getting hurt injured, bone fracturing</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4方便">4.方便<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#4%E6%96%B9%E4%BE%BF" class="hash-link" aria-label="Direct link to 4.方便" title="Direct link to 4.方便">​</a></h3>
<p>Convenience</p>
<p>Cause a lot of trouble/troublesome</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5提升能力学习">5.提升能力/学习<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#5%E6%8F%90%E5%8D%87%E8%83%BD%E5%8A%9B%E5%AD%A6%E4%B9%A0" class="hash-link" aria-label="Direct link to 5.提升能力/学习" title="Direct link to 5.提升能力/学习">​</a></h3>
<p>1.A precious chance for me to exercise to improve my skills/abilities to……</p>
<p>2.Enhance your academic capacity and make you more competitive in your future career</p>
<p>3.benificial for their holistic development/study</p>
<p>4.consolidate their understanding of their courses and get better grades</p>
<p>5.broaden your perspective, critical thinking, eye-opening, global perspective, respect different culture</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6交朋友社交">6.交朋友/社交<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#6%E4%BA%A4%E6%9C%8B%E5%8F%8B%E7%A4%BE%E4%BA%A4" class="hash-link" aria-label="Direct link to 6.交朋友/社交" title="Direct link to 6.交朋友/社交">​</a></h3>
<p>1.improve&nbsp;your social abilities: read facial expression and tones to understand other people</p>
<p>2.reinforce the bones between each other, closer to each other, broaden your social circle and resources</p>
<p>3.exercise your ability to express yourself, voice out own opinion</p>
<p>4.take myself as an example, used to be an introverted person, but now</p>
<p>5.group discussion, examine a problem from others perspective and get a more comprehensive and overall understanding of……, a big picture towards……, broaden my perspective, make a brainstorming</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7积极的感受骄傲放松自信动力有趣">7.积极的感受（骄傲，放松，自信，动力，有趣）<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#7%E7%A7%AF%E6%9E%81%E7%9A%84%E6%84%9F%E5%8F%97%E9%AA%84%E5%82%B2%E6%94%BE%E6%9D%BE%E8%87%AA%E4%BF%A1%E5%8A%A8%E5%8A%9B%E6%9C%89%E8%B6%A3" class="hash-link" aria-label="Direct link to 7.积极的感受（骄傲，放松，自信，动力，有趣）" title="Direct link to 7.积极的感受（骄傲，放松，自信，动力，有趣）">​</a></h3>
<p>1.成就感：&nbsp;A sense of achievement, though more challenge, finish it successfully, be proud of myself</p>
<p>2.动力：stimulate them to have the passion to……, make them to have/lose the incentive to do</p>
<p>3.有趣：might be tedious, with so much repetition, kills all the fun of it</p>
<p>Interesting, have the passion to do</p>
<p>4.放松/压力：reduce your pressure and anxiety/fatigue, empty your mind, take a breath, refresh yourself， make you more active</p>
<p>Put&nbsp;to much pressure and stress on your shoulder</p>
<p>5.自信：build&nbsp;up their mindset, become more confident to express yourself</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="8效率">8.效率<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#8%E6%95%88%E7%8E%87" class="hash-link" aria-label="Direct link to 8.效率" title="Direct link to 8.效率">​</a></h3>
<p>Effective and efficient</p>
<p>Enhance&nbsp;the&nbsp;productivity&nbsp;and&nbsp;efficiency&nbsp;of&nbsp;my work</p>
<p>Without so many distractions, be more focus on your assignment</p>
<p>Spend limited time on something to be more efficient</p>
<p>Technology: information is accessible through your fingertips, type a few key words in the search engine</p>
<p>An instant feedback to help your problem\</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="9职业发展">9.职业发展<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#9%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95" class="hash-link" aria-label="Direct link to 9.职业发展" title="Direct link to 9.职业发展">​</a></h3>
<p>1.make you more competitive in your future career</p>
<p>2.prepare students better for their future career</p>
<p>3.acquire the necessary skills and competence in the job market,</p>
<p>4.get a well-paid job, higher income</p>
<p>5.liveup to your supervisors’ expectation, your bosses will trust you and in the long run, even give you a promotion</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="表达">表达<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E8%A1%A8%E8%BE%BE" class="hash-link" aria-label="Direct link to 表达" title="Direct link to 表达">​</a></h3>
<p>Holistic development, a precious chance to prepare them to……
Enhance their capacity to
Obtain/consolidate their knowledge/ability/comprehension
Stimulate their interest/passion to……
Increase your competitive edges in future career/interview
Administrator/supervisor evaluate your performance based on……
Stimulate one’s passion to do ; incentive
Social/communicative skills: encounter numerous persons from different background and culture; through mutual communication; broad horizons; examine a problem from others’ perspective;
Concentration; focus on something; without distraction</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="task234">Task2/3/4<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#task234" class="hash-link" aria-label="Direct link to Task2/3/4" title="Direct link to Task2/3/4">​</a></h2>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/tasks-ed8baf72bd00e6daa318bcdee8df0dfe.png" width="1280" height="642" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/task2-2ba39356f3a29be5fe0539cdfd840f1a.png" width="1280" height="215" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/task3-fba253aa8f684d573b986f9ee9ebf62d.png" width="1280" height="208" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/task4-fc4b5a95c3479f49684599a9681902e1.png" width="1280" height="266" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task1-1">Task1<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#task1-1" class="hash-link" aria-label="Direct link to Task1" title="Direct link to Task1">​</a></h3>
<p>As far as I am concerned …(paraphrase)
One major benefit doing …
Another reason that I think …
Common ways to expand arguments: Why? Details? If…so what?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vocabulary">Vocabulary<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#vocabulary" class="hash-link" aria-label="Direct link to Vocabulary" title="Direct link to Vocabulary">​</a></h3>
<p>Biology / business / psychology / sociology / art / history
Botany, zoology
Flora, fauna, vegetation, animals
Endotherms, ectotherms
Mammals
Reptiles
Amphibians
Insects
Predators / preys
Habitat, ecosystems
Carnivores / herbivores / omnivores
Omnipotent, omniscient</p>
<p>Head, scalp, skull, pupils, cornea, eyelashes, eyebrows
Cheek, nostrils, gum, throat, tongue, neck, temple
Shoulders, back, chest, breasts, breast-feeding, belly
Vital organs, rib cage
Heart, lungs, kidneys, spleen, liver, stomach, intestines, pancreas
Glands, legs, thighs, blood vessels, arteries, veins
Cells, tissues, organs
Elbows, wrist, knuckles, finger tips, finger prints, ankle, toes</p>
<p>Bundle up to face the cold</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task2">Task2<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#task2" class="hash-link" aria-label="Direct link to Task2" title="Direct link to Task2">​</a></h3>
<p><img decoding="async" loading="lazy" alt="截屏2024-03-12 上午2.28.15.png" src="https://jerrylinyx.github.io/Doc/assets/images/task2template-03282a5061eab6bb2993b1d165532e35.png" width="1506" height="656" class="img_ev3q"></p>
<p>According to the announcement / proposal / letter
The student think this is a great idea for 2 reasons</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task3">Task3<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#task3" class="hash-link" aria-label="Direct link to Task3" title="Direct link to Task3">​</a></h3>
<p><img decoding="async" loading="lazy" alt="截屏2024-03-12 上午2.29.40.png" src="https://jerrylinyx.github.io/Doc/assets/images/task3template-40ed1689eb863c30d6d653cfc0ff474f.png" width="1440" height="676" class="img_ev3q"></p>
<p>The concept “” basically means
In the lecture, the professor used … as an example to explain it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="task4">Task4<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#task4" class="hash-link" aria-label="Direct link to Task4" title="Direct link to Task4">​</a></h3>
<p><img decoding="async" loading="lazy" alt="截屏2024-03-12 上午2.29.52.png" src="https://jerrylinyx.github.io/Doc/assets/images/task4template-91817e61ccacdb8f6aa270cb83b7327d.png" width="1440" height="646" class="img_ev3q">
In the lecture, the professor talks about, from 2 aspects</p>
<p>These examples (this example) demonstrate</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="细节">细节<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E7%BB%86%E8%8A%82" class="hash-link" aria-label="Direct link to 细节" title="Direct link to 细节">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="独立口语模板">独立口语模板<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E7%8B%AC%E7%AB%8B%E5%8F%A3%E8%AF%AD%E6%A8%A1%E6%9D%BF" class="hash-link" aria-label="Direct link to 独立口语模板" title="Direct link to 独立口语模板">​</a></h4>
<ol>
<li>
<p>Personally, I would like to say that my favorite is.../sth would be a better choice compared to... And there are a couple of reasons to name. The most important thing is that.../Above all... What’s more... So that’s why...</p>
</li>
<li>
<p>Well, in my view, I would definitely agree with the point that...The first reason I want to say is that... More importantly... So, that’s why I choose... for the two reasons listed above.</p>
</li>
<li>
<p>Personally speaking, I prefer... for several reasons/I think... ...for several reasons.Firstly,... Besides, in my experience......</p>
<p>is more appropriate for</p>
<p>Probably the most important reason for my preference is that</p>
</li>
</ol>
<ul>
<li>快速介绍主题，阐明自己的观点</li>
</ul>
<ol>
<li>
<p>Personally, I believe xx is better than xx for couple of reasons...</p>
</li>
<li>
<p>In my view, xx seems to be better than xx because...</p>
</li>
<li>
<p>To me, xx is a better option than...And I feel this way for two reasons...</p>
</li>
</ol>
<ul>
<li>解释选择该选项的第一个原因并用相关细节与例子来支撑观点</li>
</ul>
<ol>
<li>First off, ...for example...</li>
<li>For one...For instance...</li>
<li>One reason is that...What I mean by this is that...</li>
</ol>
<ul>
<li>解释选择该选项的第二个原因并用相关细节与例子来支撑观点</li>
</ul>
<ol>
<li>Secondly,...</li>
<li>My second reason is that...</li>
<li>Another reason is that...</li>
<li>More importantly...</li>
</ol>
<ul>
<li>简短的结束语来结束回答</li>
</ul>
<ol>
<li>This is why I believe/think that...</li>
<li>And this is why I prefer...</li>
<li>For the reasons above, I feel that xx is a better option than...</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="综合口语模板">综合口语模板<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E7%BB%BC%E5%90%88%E5%8F%A3%E8%AF%AD%E6%A8%A1%E6%9D%BF" class="hash-link" aria-label="Direct link to 综合口语模板" title="Direct link to 综合口语模板">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="task2-1">Task2：<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#task2-1" class="hash-link" aria-label="Direct link to Task2：" title="Direct link to Task2：">​</a></h5>
<ol>
<li>In the lecture, the professor mainly talked aboutthe theory that... To reinforce the theory, the professor gave two reasons/examples in his speech.The first one is that... The second one is that...And that’s the two reasons/examples the speaker presented to explain his idea.</li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="task3-1">Task3：<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#task3-1" class="hash-link" aria-label="Direct link to Task3：" title="Direct link to Task3：">​</a></h5>
<ul>
<li>解释校园情况，对文章内容和说话者所谈内容进行简短总结</li>
</ul>
<ol>
<li>According to the passage/announcement/flyer, the university plans to...</li>
<li>The school intends to...</li>
<li>The passage/announcement/flyerexplains that the university is considering...</li>
</ol>
<ul>
<li>表述为什么学生同意或不同意学校的提议或改变</li>
</ul>
<ol>
<li>The student agrees/disagrees with the school’s changes/decision/proposal for two/three reasons.</li>
<li>The student supports/opposesthese changes for...</li>
<li>However, the student doesn’t support this plan.</li>
</ol>
<ul>
<li>解释一下学生支持或反对这些变化的主要观点，详细说明这一点是什么以及为什么学生会有这种感觉，使用对话中的证据</li>
</ul>
<ol>
<li>First, the student believes/feels/thinks..</li>
<li>The first point the student makes is that..</li>
<li>One reason is that...</li>
<li>One reason he/she supports/opposes this proposal is that...</li>
<li>According to the student,...so...</li>
</ol>
<ul>
<li>解释学生提出的第二点，使用与第一点相似的结构，解释学生为什么会有这种感觉</li>
</ul>
<ol>
<li>Secondly, the student believes/feels/thinks that...</li>
<li>The second point the student makes is that...</li>
<li>A second reason is that...</li>
<li>The student also remarks/says that...</li>
<li>Additionally, the student believes/feels/thinks that...</li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="task4-1">Task4：<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#task4-1" class="hash-link" aria-label="Direct link to Task4：" title="Direct link to Task4：">​</a></h5>
<ul>
<li>介绍文章和讲座的主题，以及要讨论的具体术语或概念</li>
</ul>
<ol>
<li>The passage discusses xx and how it...</li>
<li>The main focus of the passage is...</li>
<li>Both the passage and the lecture discuss...</li>
<li>According to the lecture, xx is...</li>
<li>The passage introduces the concept of...</li>
</ol>
<ul>
<li>用文章和/或讲座中的一点来描述这个概念的含义，尽量用课堂上的例子说明细节</li>
</ul>
<ol>
<li>In the lecture, the professor defines xx as...</li>
<li>The professor first mentions that...</li>
<li>First off, the professor talks about...</li>
</ol>
<ul>
<li>介绍教授或文章中关于这个概念的另一个观点，使用课堂上的具体例子</li>
</ul>
<ol>
<li>Next, the professor discusses...</li>
<li>The professor also explains that...</li>
<li>Additionally, the professor says that...</li>
<li>Another example the professor gives is that...</li>
</ol>
<ul>
<li>用简短的概述结束回答</li>
</ul>
<ol>
<li>This is what xx means.</li>
<li>And this is the meaning of...</li>
<li>So this is how the professor describes...</li>
</ol>
<p>reach consensus on sth 在...上达成共识</p>
<p>...have long be a topic of great interest ...是人们一直感兴趣的话题</p>
<p>be conformable with... 与...相一致</p>
<p>make productive use of... 高效利用...</p>
<p>provided sb stay/动词 together&nbsp;in a tight bunch&nbsp;只要...紧密团结在一起</p>
<h1>语料库 (unorganized)</h1>
<p><img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/AcademicDiscussion0-dd16fd26b2b3c508d55c8e87fa1e65ba.png" width="832" height="124" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="例题">例题<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%BE%8B%E9%A2%98" class="hash-link" aria-label="Direct link to 例题" title="Direct link to 例题">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-adventurouscautious">1. adventurous/cautious<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#1-adventurouscautious" class="hash-link" aria-label="Direct link to 1. adventurous/cautious" title="Direct link to 1. adventurous/cautious">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg1-30aad65fdc77c3606ff6815c9db1cce1.png" width="1280" height="98" class="img_ev3q"></p>
<p>It’s undeniable that our daily life requires constant caution to keep us away from danger, it’s a beautiful quality of cherishing life. However, in the long term, I always believe that a high quality life requires lots courage to take risks and the curiosity to try new things. Life is limited but fun of the world is infinite. We may not necessarily have to attempt extreme sports like skydiving and rock climbing but there are something not to be missed(unmissable), such as an opportunity to express ourselves on the stage,or exploring an interesting field <strong>from scratch</strong>.We mortals only live once, so we need to ceaselessly try to break through ourselves, to experience things that we have never met before,good or bad, and finally make everything worth the ticket price of living.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-如何花钱">2. 如何花钱<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#2-%E5%A6%82%E4%BD%95%E8%8A%B1%E9%92%B1" class="hash-link" aria-label="Direct link to 2. 如何花钱" title="Direct link to 2. 如何花钱">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg2-1254872cfe2e188701b494a363096f5e.png" width="1280" height="112" class="img_ev3q">
To my mind, using unexpected wealth for practical purposes would be a better choice. Although spending it for pleasure only would give us lots of instant gaiety, it wouldn’t be a long-term policy/it’s obviously not sustainable for long periods, as wealth will eventually be depleted&nbsp;one day. However, if I use it to enroll in tutoring class&nbsp;like dancing or programming, I will acquire some useful skills permanently. For example, learning programming makes me more competitive in the job market so I may be able to earn more money in the future. Or, I can simply use this money for financial investment, even if I didn’t be lucky enough to make more money,I have practiced how to manage my finances.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-learn-other-culture">3. learn other culture<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#3-learn-other-culture" class="hash-link" aria-label="Direct link to 3. learn other culture" title="Direct link to 3. learn other culture">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg3-d58778fcfb8db6c4e5012a3fbbf696cb.png" width="1280" height="299" class="img_ev3q">
I really think learning about other cultures holds great significance for several reasons. First, comprehension of exotic culture expends our mental frontiers&nbsp;so it may equip us with a more open and inclusive attitude towards various things around the world, which benefits us a lot in the increasingly interconnected globalized world. Also, learning about foreign culture may provide us more opportunities to make acquaintance with people&nbsp;from all over the world, and we may find common topics with each other&nbsp;and finally becomes friends.It enlarges my social circle&nbsp;spontaneously.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-onlineoffline">4. online/offline<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#4-onlineoffline" class="hash-link" aria-label="Direct link to 4. online/offline" title="Direct link to 4. online/offline">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg4-d9e5d53e208136258014661a170e4ccf.png" width="1280" height="118" class="img_ev3q">
For me, I prefer shopping online for lots of reasons. First, online shopping is time-saving and flexible&nbsp;as I can buy what I want just by searching online and don’t need to waste hours waiting for transportation driving me to the store. What’s more, large shopping platform provides us with a wide range of selections so we are more likely to get what suits the most while it will take hours for us to find something ideal in traditional offline&nbsp;stores crowding with people. Also, because online retailers don’t need to pay for rental costs, the products may be cheaper with the same quality. That’s why I prefer online shopping.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-alonegroup">5. alone/group<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#5-alonegroup" class="hash-link" aria-label="Direct link to 5. alone/group" title="Direct link to 5. alone/group">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg5-385733a15995799d770e9ab958bb0442.png" width="1280" height="154" class="img_ev3q">
For me, spending free time in shared activities with other people seems to be a better option even if staying alone also offers something valuable. First, as a person with outgoing disposition, getting along with others makes me more energetic and refreshing after tiring daily routines. What’s more, in the process of shared activities, I can expend my mental frontiers by chatting with people from various background, and this may equip me with a more open and inclusive attitude towards various thing around the world, which helps me to be better accustomed to the increasingly interconnected world. At the same time, I can enlarge my social circle.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-省钱花钱">6. 省钱/花钱<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#6-%E7%9C%81%E9%92%B1%E8%8A%B1%E9%92%B1" class="hash-link" aria-label="Direct link to 6. 省钱/花钱" title="Direct link to 6. 省钱/花钱">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg6-7b1d34fb00b3372184e6c98c6d69b9ee.png" width="1280" height="165" class="img_ev3q">
In my view, I consider shopping only when I have a specific purchase to make would be a better option for several reasons. First, it can reduce impulsive consumption and prevent me from buying something useless for instant gaiety, which will not only waste money for no reason but occupy more storage space.&nbsp;What’s more, staying away from casual consumption does helps with money management and financial investment, enables me to have a big purchase whenever I want and have enough money for future study or emergency.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="7">7.<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#7" class="hash-link" aria-label="Direct link to 7." title="Direct link to 7.">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg7-a73fc85938d52fc1dea063ddda5a99d0.png" width="1280" height="110" class="img_ev3q"></p>
<p>In my view, it’s much more easier for us to eating healthy food today than decades ago for several reasons.</p>
<p>First, technology advances have helped to&nbsp;transform plants with larger seeds and fruits, faster germination and higher annual yield so crops with higher quality and healthy value are more accessible for us, which means people today have much more choices to maintain a healthy diet.</p>
<p>What’s more, the development of medicine has made us more aware of the dietary proportion and trace elements required by the human body, enabling us to better plan our diet.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="8">8.<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#8" class="hash-link" aria-label="Direct link to 8." title="Direct link to 8.">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg8-f8f0c9accd90b60a28810641407487d1.png" width="1280" height="113" class="img_ev3q"></p>
<p>In my view, buying fresh food and prepare meals by my own would be a better choice for several reasons. For one thing, prepared food in restaurants is always much more expensive than raw food in grocery as the former’s price also includes store’&nbsp;rental and labor costs, so self-catering habits can help us save lots of money for other use.&nbsp;Moreover, cooking our own food gives us more choices.We can make whatever we want to eat and make meals that are more suitable for our flavour, also, select materials with higher quality. Finally, there are many uncertainties in the hygiene of restaurants, on the contrary, our own meals are often healthy and hygienic.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="9">9.<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#9" class="hash-link" aria-label="Direct link to 9." title="Direct link to 9.">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg9-b3781071437999e269110546419aaaf2.png" width="1280" height="108" class="img_ev3q"></p>
<p>Personally, I prefer to live in a big city. First, it’s obvious that metropolis often have</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="10">10.<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#10" class="hash-link" aria-label="Direct link to 10." title="Direct link to 10.">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg10-5dfc6e11fdeb33df547bbdc8abd0a590.png" width="1280" height="111" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11">11.<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#11" class="hash-link" aria-label="Direct link to 11." title="Direct link to 11.">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg11-6a2b82cf8a9ed6bb20dd07442c9a6122.png" width="1280" height="111" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12">12.<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#12" class="hash-link" aria-label="Direct link to 12." title="Direct link to 12.">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg12-7b276e837d6652aba8adebd42b7f5dd4.png" width="1280" height="122" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13">13.<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#13" class="hash-link" aria-label="Direct link to 13." title="Direct link to 13.">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg13-298e7181a37a0df09f3cd4bd83849a6c.png" width="1280" height="155" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="14">14.<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#14" class="hash-link" aria-label="Direct link to 14." title="Direct link to 14.">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Untitled" src="https://jerrylinyx.github.io/Doc/assets/images/eg14-5a3dad264a174b146821703467a89b5c.png" width="1280" height="153" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="15">15.<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#15" class="hash-link" aria-label="Direct link to 15." title="Direct link to 15.">​</a></h3>
<ul>
<li>电视对于现代社会会有正面作用还是负面作用？</li>
</ul>
<p>In my view, television has more positive effects towards modern society than its negative sides. First, it offers us an efficient and convenient way to get the latest news around the world through vivid images, helping us open new avenues of thoughts. Moreover, television can lower unemployment rates and release our job seeking pressure to some extent by providing a job chance to people who are willing to be engaged in the related career. Last but not least, watching television with family members after a tiring day’s work do not only strengthens the emotional connections between loved ones, but provides us with a sense of refreshing.</p>
<p>万能模板：运动好处</p>
<ol>
<li>保持健康远离疾病：</li>
<li>提高工作效率：more focused</li>
<li>保持活力：</li>
<li>维持良好的身材：</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="模版">模版<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E6%A8%A1%E7%89%88" class="hash-link" aria-label="Direct link to 模版" title="Direct link to 模版">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="万能模板团队合作独自学习">万能模板：团队合作/独自学习<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%B8%87%E8%83%BD%E6%A8%A1%E6%9D%BF%E5%9B%A2%E9%98%9F%E5%90%88%E4%BD%9C%E7%8B%AC%E8%87%AA%E5%AD%A6%E4%B9%A0" class="hash-link" aria-label="Direct link to 万能模板：团队合作/独自学习" title="Direct link to 万能模板：团队合作/独自学习">​</a></h3>
<ul>
<li>·团队合作</li>
</ul>
<ol>
<li>与人相处使我活力倍增：As a person with outgoing disposition, getting along with others makes me more energetic and refreshing after tiring daily routines.</li>
<li>提高团队合作能力：In the process of teamwork, my capabilities for practical cooperation have also improved, which is beneficial for further development.</li>
<li>掌握与人相处的技巧：master skills to communicate and get along with others</li>
<li>结合成员优势：</li>
<li>掌握更多知识：</li>
<li>培养更开放包容的心态：In the process of shared activities, I can expend my mental frontiers by chatting with people from various background, and this may equip me with a more open and inclusive attitude towards various thing around the world, which helps me to be better accustomed to the increasingly interconnected world.</li>
</ol>
<p>拓宽交友圈：It provides us more opportunities to make acquaintance with people from different background, and we may find common topics with each other and finally becomes friends.It enlarges my social circle spontaneously.</p>
<ul>
<li>·独自学习</li>
</ul>
<ol>
<li>集中精力不被打扰：</li>
<li>安排更灵活：</li>
<li>团队合作可能会产生很多噪音打断工作：</li>
<li>团队合作可能发生争执拖慢进度：</li>
<li>团队合作可能有人摆烂/一些成员的付出未被认可：take a free ride</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="万能模板开拓视野">万能模板：开拓视野<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%B8%87%E8%83%BD%E6%A8%A1%E6%9D%BF%E5%BC%80%E6%8B%93%E8%A7%86%E9%87%8E" class="hash-link" aria-label="Direct link to 万能模板：开拓视野" title="Direct link to 万能模板：开拓视野">​</a></h3>
<ol>
<li>新的尝试与体验：Life is all about experiencing and we mortals only live once, so we need to ceaselessly try to break through ourselves, to experience/embrace things that we have never met before,good or bad, and finally make everything worth the price of living.</li>
<li>提高生活质量：I always believe that a high quality life requires lots of courage to take risks and the curiosity to try new things. Life is limited but fun of the world is infinite. We may not necessarily have to attempt extreme sports like skydiving and rock climbing but there are something not to be missed(unmissable), such as an opportunity to express ourselves on the stage,or exploring an interesting field from scratch.</li>
<li>增长知识：</li>
<li>拥有更开放包容的心态：</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="万能模板友情亲情">万能模板：友情/亲情<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%B8%87%E8%83%BD%E6%A8%A1%E6%9D%BF%E5%8F%8B%E6%83%85%E4%BA%B2%E6%83%85" class="hash-link" aria-label="Direct link to 万能模板：友情/亲情" title="Direct link to 万能模板：友情/亲情">​</a></h3>
<p>1.调节情绪：xx with family members after a tiring day’s work do not only strengthens the emotional connections between loved ones, but provides us with a sense of refreshing.</p>
<ul>
<li>万能模板：网络优势</li>
</ul>
<ol>
<li>
<p>信息获取更便利：It offers us an efficient and convenient way to get the latest news around the world through vivid images, helping us open new avenues of thoughts.</p>
</li>
<li>
<p>降低失业率：It can lower the unemployment rates and release our job seeking pressure to some extent by offering more job information and providing a job chance to people who are willing to be engaged in related career.</p>
</li>
<li>
<p>节省时间：Online xx is time-saving and flexibleas I can xx what I want just by searching online and don’t need to waste hours waiting for transportation driving me to the xx...</p>
</li>
<li>
<p>更多选择：Large shopping platform while it will take hours for us to find something ideal in traditional offline stores crowding with people.</p>
<p>provides us with a wide range of selections so we are more likely to get what suits the most</p>
</li>
<li>
<p>节约成本：Because online retailers don’t need to pay for rental costs, the products may be cheaper with the same quality.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="万能模板公共交通">万能模板：公共交通<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%B8%87%E8%83%BD%E6%A8%A1%E6%9D%BF%E5%85%AC%E5%85%B1%E4%BA%A4%E9%80%9A" class="hash-link" aria-label="Direct link to 万能模板：公共交通" title="Direct link to 万能模板：公共交通">​</a></h3>
<ol>
<li>减少人均碳排放缓解温室效应：Public transport is a greener form of travel and the popularity of public transportation often means the carbon emissions per head are largely reduced, and this can protect our environment by reduce exhaust emission and release the green house effect.</li>
<li>便宜：It’s economical because we don’t need to pay for patrol, parking, maintenance and cleaning costs which is inevitable driving our own car.</li>
<li>交通网络完善且选择多样：Nowadays, the public transportation system is constantly improving with the economic development, and the rise of high-speed rail and subway has greatly facilitated people’s travel.</li>
<li>方便且节约时间：It’s convenient and time-saving as the navigation is taken care of so we can use time to do plenty of other things like skimming through news or listening to music without concerns about traffic accidents.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="万能模板大城市乡村">万能模板：大城市/乡村<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%B8%87%E8%83%BD%E6%A8%A1%E6%9D%BF%E5%A4%A7%E5%9F%8E%E5%B8%82%E4%B9%A1%E6%9D%91" class="hash-link" aria-label="Direct link to 万能模板：大城市/乡村" title="Direct link to 万能模板：大城市/乡村">​</a></h3>
<ul>
<li>·城市</li>
</ul>
<ol>
<li>交通便利：</li>
<li>教学质量高：</li>
<li>娱乐设施完备：</li>
<li>更多就业机会：</li>
<li>更多探索自我的机会：</li>
</ol>
<ul>
<li>·乡村</li>
</ul>
<ol>
<li>生活压力小：</li>
<li>交通通畅不堵车：</li>
<li>生活成本低：</li>
<li>环境好污染少：</li>
<li>亲近自然：offer chances to commune with nature</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="万能模板娱乐学习">万能模板：娱乐/学习<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%B8%87%E8%83%BD%E6%A8%A1%E6%9D%BF%E5%A8%B1%E4%B9%90%E5%AD%A6%E4%B9%A0" class="hash-link" aria-label="Direct link to 万能模板：娱乐/学习" title="Direct link to 万能模板：娱乐/学习">​</a></h3>
<ul>
<li>·学习</li>
</ul>
<ol>
<li>更高竞争力：Develop good habits of learning and mastering more skills help us become more competitive in the job market as opportunities are always limited and only reserved for those who are prepared.</li>
<li>合时宜-学习是学生的首要任务：Acquiring knowledge and skills is always the top priority of students at certain specific stages like high school, so we need to seize the best time and endeavour to better ourselves.</li>
<li>掌握更多的知识技能-对生活有帮助：In addition to professional knowledge related to our major, learning also allows us acquire more skills that are helpful in daily life and helps us become a whole person.</li>
</ol>
<ul>
<li>·娱乐</li>
</ul>
<ol>
<li>生活重在体验：Life is all about experiences and we mortals only live once, so we need to ceaselessly try to experience things that we have never met before, good or bad, and finally make everything worth the ticket price of living./There are so many things worth experiencing in this world except studying and working, also, becoming an ascetic monk isn’t the only way to achieve the true meaning of life.</li>
<li>舒缓压力：Entertainment can relieve accumulated fatigue and stress, which may crush you in the near future and make the loss outweighs the gain.</li>
<li>提高效率：Scientifically, appropriate entertainment can provide physical and mental pleasure, thereby improving study efficiency.</li>
<li>娱乐是一种维系感情的方式：Human life is not single-threaded, even the most passionate workaholic still needs the bonds of family and friendship to varying degrees that are somehow derived from entertainment.</li>
<li>娱乐并不会使自律的人分心：Entertainment won’t distract someone who is self-disciplined and likewise, undisciplined people will suffer a hard time focusing on their studies even without any amusement.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="万能模板省钱好处">万能模板：省钱好处<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%B8%87%E8%83%BD%E6%A8%A1%E6%9D%BF%E7%9C%81%E9%92%B1%E5%A5%BD%E5%A4%84" class="hash-link" aria-label="Direct link to 万能模板：省钱好处" title="Direct link to 万能模板：省钱好处">​</a></h3>
<ol>
<li>减少冲动消费：It can reduce impulsive consumption and prevent me from buying something useless for instant gaiety, which will not only waste money for no reason but occupy more storage space./Although spending it for pleasure only would give us lots of instant gaiety, it wouldn’t be a long-term policy/it’s obviously not sustainable for long periods, as wealth will eventually be depleted one day.</li>
<li>理财投资：Staying away from casual consumption does helps with money management and financial investment/I can simply use this money for financial investment, even if I didn’t be lucky enough to make more money,I have practiced how to manage my finances.</li>
<li>财富自由-更多选择：It enables me to have a big purchase whenever I want and have enough money for future study or emergency.</li>
<li>花有意义的钱：If I use it to enroll in tutoring class like dancing or programming, I will acquire some useful skills permanently. For example, learning programming makes me more competitive in the job market so I may be able to earn more money in the future.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="一便宜">一、便宜<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%B8%80%E4%BE%BF%E5%AE%9C" class="hash-link" aria-label="Direct link to 一、便宜" title="Direct link to 一、便宜">​</a></h3>
<ul>
<li>Useful&nbsp;expressions：</li>
</ul>
<p>便宜：cheap, inexpensive, reasonable&nbsp;price</p>
<p>昂贵：expensive, extortionate, cost&nbsp;a&nbsp;fortune</p>
<p>Squander v.挥霍</p>
<ul>
<li>Samples：</li>
</ul>
<p>1、It's cheap and economical.</p>
<p>2、It can help me save a lot of money to buy books or to travel with my friends.</p>
<p>3、I hate squandering, so I think it is awesome.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="二省时省力">二、省时省力<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%BA%8C%E7%9C%81%E6%97%B6%E7%9C%81%E5%8A%9B" class="hash-link" aria-label="Direct link to 二、省时省力" title="Direct link to 二、省时省力">​</a></h3>
<ul>
<li>Useful&nbsp;expressions：</li>
<li>time-saving, energy-saving</li>
<li>Handyadj.好用的，便利的</li>
<li>Samples：</li>
</ul>
<p>1、It is convenient and I would be able to save tons of time.</p>
<p>2、It’s&nbsp;time-saving&nbsp;and&nbsp;I can&nbsp;spare&nbsp;some&nbsp;time&nbsp;on&nbsp;my&nbsp;personal&nbsp;interests.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="三结交朋友">三、结交朋友<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%B8%89%E7%BB%93%E4%BA%A4%E6%9C%8B%E5%8F%8B" class="hash-link" aria-label="Direct link to 三、结交朋友" title="Direct link to 三、结交朋友">​</a></h3>
<ul>
<li>Useful&nbsp;expressions：</li>
</ul>
<p>1、bond&nbsp;n.情感纽带&nbsp;&nbsp;v.建立关系</p>
<p>2、meet more people</p>
<p>3、socialize v.社交</p>
<p>4、expand one’s social circle/network</p>
<p>5、Build bridges</p>
<ul>
<li>Samples：</li>
</ul>
<p>1、The experience created a very special bond between us.</p>
<p>2、A good option to expand your social circle and find people with the same interests as you is to join some clubs.</p>
<p>3、I can make more friends from different cities/countries/with the same interest.</p>
<p>4、And I can also learn some useful interpersonal skills or personality such as honesty and persistence</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="四好环境">四、好环境<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E5%9B%9B%E5%A5%BD%E7%8E%AF%E5%A2%83" class="hash-link" aria-label="Direct link to 四、好环境" title="Direct link to 四、好环境">​</a></h3>
<ul>
<li>Useful&nbsp;expressions：</li>
<li>Stunning/picturesque/breathtakingview</li>
<li>Refreshing/refreshmymind&nbsp;让人神清气爽</li>
<li>Samples：</li>
</ul>
<p>1、The amazing part is its picturesque view and enjoyable surroundings.</p>
<p>2、Having a walk beside the lake and rockery, I can smell the fragrance of grass and the flowers and hear the cries of the birds and feel the bracing breeze on my face.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="五减压放松">五、减压放松<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%BA%94%E5%87%8F%E5%8E%8B%E6%94%BE%E6%9D%BE" class="hash-link" aria-label="Direct link to 五、减压放松" title="Direct link to 五、减压放松">​</a></h3>
<ul>
<li>Useful&nbsp;expressions：</li>
</ul>
<p>1、unwind</p>
<p>2、calm/ calm down</p>
<p>3、loosen up</p>
<p>4、chill/ chill out</p>
<p>5、release pressure/tension</p>
<ul>
<li>Samples：</li>
</ul>
<p>1、I can totally relax in such a......environment.</p>
<p>2、I'm fascinated to the harmonious atmosphere which could make me refreshed and energetic.</p>
<p>3、I can release my emotion, pressure and uneasiness through it, and have a temporary escape from the academic workload such as assignment and examination.</p>
<p>4、I would like to join a hiking club since it offers me an opportunity to release pressure/ tension.</p>
<p>5、Music helps us calm down, especially for students who are stressed out when preparing exams or doing homework.</p>
<p>6、&nbsp;Music helps me unwind after a busy day.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="六健康">六、健康<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E5%85%AD%E5%81%A5%E5%BA%B7" class="hash-link" aria-label="Direct link to 六、健康" title="Direct link to 六、健康">​</a></h3>
<ul>
<li>Useful&nbsp;expressions：</li>
<li>fullofnutrients&nbsp;like&nbsp;protein&nbsp;and&nbsp;vitamins</li>
<li>Preventionisbetter&nbsp;than&nbsp;cure&nbsp;预防甚于治疗</li>
<li>Samples：</li>
</ul>
<p>1、It's good for my health.</p>
<p>2、I can improve my speed, strength and flexibility.</p>
<p>3、And I can also effectively lose weight and keep in good shape.</p>
<p>4、Before……I often got sick, depression and hot temper, but now, everything is getting much better.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="独立口语泛用语料">独立口语泛用语料<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E7%8B%AC%E7%AB%8B%E5%8F%A3%E8%AF%AD%E6%B3%9B%E7%94%A8%E8%AF%AD%E6%96%99" class="hash-link" aria-label="Direct link to 独立口语泛用语料" title="Direct link to 独立口语泛用语料">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="开拓眼界">开拓眼界<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E5%BC%80%E6%8B%93%E7%9C%BC%E7%95%8C" class="hash-link" aria-label="Direct link to 开拓眼界" title="Direct link to 开拓眼界">​</a></h3>
<p>【适用话题特征：涉及两者以上】</p>
<ul>
<li>泛用语料：... would broaden my horizons / expand my vision since it opens up access to diverse ideas, perspectives, and values. As a result, I would achieve a more comprehensive understanding of the subject matter and ultimately ...</li>
</ul>
<p>例1：Do you prefer to study alone or study in a group?</p>
<p>I prefer to study in a group. The main reason is that discussing with other students would broaden my horizons since it opens up access to diverse ideas, perspectives, and values. As a result, I would achieve a more comprehensive understanding of the subject matter and ultimately&nbsp;come up with more effective solutions, which greatly boosts my learning efficiency.</p>
<p>例2：Some people prefer to make decisions based on their own experience while other people prefer to ask those around for help. Which do you prefer?</p>
<p>I prefer to ask those around for help. The main reason is that discussing with others would expand my vision since it opens up access to diverse ideas, perspectives, and values. As a result, I would achieve a more comprehensive understanding of the subject matter and ultimately&nbsp;make better decisions.</p>
<p>例3：If you have disagreements with one of your friends or family members over certain issues, do you prefer to persuade the other person into taking your side, or prefer to respect the differences?</p>
<p>I prefer to respect the differences. First of all, modesty is a virtue. I mean, listening to others patiently would expand my vision since it opens up access to diverse ideas, perspectives, and values. As a result, I would achieve a more comprehensive understanding of the subject matter and ultimately&nbsp;develop a mature/sophisticated worldview.</p>
<p>例4：Should students choose books from the school’s reading list, or should they choose books for themselves?</p>
<p>I prefer the former choice. First, having a uniform list means students could discuss with one another about the same books, which would broaden their horizons since it opens up access to diverse ideas, perspectives, and values. As a result, students would achieve a more comprehensive understanding of the subject matter and ultimately&nbsp;cultivate creative thinking.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="感情关系">感情&amp;关系<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E6%84%9F%E6%83%85%E5%85%B3%E7%B3%BB" class="hash-link" aria-label="Direct link to 感情&amp;关系" title="Direct link to 感情&amp;关系">​</a></h3>
<p>【适用话题特征：涉及两者以上】</p>
<ul>
<li>泛用语料：... would improve the relationship between me and X. You see, I’m usually quite occupied with schoolwork and therefore seldom see X, so I want to use every possible opportunity to catch up with X on what’s new in our lives and create some really nice memories. ... would be perfect for this.</li>
</ul>
<p>例1：Do you prefer to go to the museum alone or with a friend?</p>
<p>I prefer to go to the museum with a friend. The main reason is that this would improve the relationship between me and my friend. You see, I’m usually quite occupied with schoolwork and therefore seldom see my old friends, so I want to use every possible opportunity to catch up with my friend on what’s new in our lives and create some really nice memories. A museum trip would be perfect for this.</p>
<p>例2：Is it better to watch entertaining films or serious films?</p>
<p>I think the former choice is better. First of all, watching entertaining films with a friend would improve our relationship. You see, I’m usually quite occupied with schoolwork and therefore seldom see my old friends, so I want to use every possible opportunity to catch up with my friend on what’s new in our lives and create some really nice memories. A fun movie would be perfect in this case as opposed to a serious one.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="交友人脉">交友&amp;人脉<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E4%BA%A4%E5%8F%8B%E4%BA%BA%E8%84%89" class="hash-link" aria-label="Direct link to 交友&amp;人脉" title="Direct link to 交友&amp;人脉">​</a></h3>
<p>【适用话题特征：涉及两者以上；课余活动】</p>
<ul>
<li>泛用语料：... provides a great way to meet new people and make friends. Having more friends means not just an active social life, but more importantly, a comprehensive scope to see the world.&nbsp;For example, they could offer advice/input on all sorts of matters, like dealing with stress, improving grades, and planning for the future career.</li>
</ul>
<p>例1：Do you agree that all students should join some kind of student organizations?</p>
<p>I agree with this statement. The most important reason is that joining student organizations provides a great way to meet new people and make friends. Having more friends means not just an active social life, but more importantly, a comprehensive scope to see the world. They could offer advice on all sorts of matters, like dealing with stress, improving grades, and planning for the future career.</p>
<p>例2：To celebrate your birthday, do you prefer to throw a big party or keep it simple and just invite a few people?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="金钱">金钱<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E9%87%91%E9%92%B1" class="hash-link" aria-label="Direct link to 金钱" title="Direct link to 金钱">​</a></h3>
<p>【适用话题特征：赚钱、省钱】</p>
<ul>
<li>泛用语料：</li>
</ul>
<p>个人：It makes more sense financially. Being a student with limited disposable income, I must adhere to a strict budget and ensure that every dollar is spent wisely.If I could earn some extra cash / save money by ..., I would be able to ameliorate my economic situation and have more to afford my meals, pay my rent/tuition, and take up extra courses.</p>
<p>学校：This allows the university to generate an extra source of revenue / cut expenditures and in turn invest more in other areas, like purchasing more books for the library, upgrading laboratory equipment, and renovating the dormitories. I’m sure such investments would benefit students ultimately and improve their overall campus experience.</p>
<p>例1：There are two apartments to choose from. One apartment is near the campus but slightly more expensive while the other is a little far from the campus but cheaper. Which one do you prefer and why?</p>
<p>Personally speaking, the cheaper apartment is better. First, it makes more sense financially. Being a student with limited disposable income, I must adhere to a strict budget and ensure that every dollar is spent wisely.If I could save money by renting a cheaper apartment, I would have more to afford my meals, pay my tuition, and take up extra courses.</p>
<p>例2：Imagine that you have received offers from two universities. One university is well-known for its excellent academic program, but the tuition is expensive. The other is less well-known but has offered you scholarships. Which university do you prefer?</p>
<p>Personnally speaking, I would choose a well-known but expensive university. First, with a higher tuition fee, the university should have a better teaching quality and more facilities. Second, a famous university can help me in the future job market, which may give me more reward.</p>
<p>例3：The university plans to charge the public a fee for accessing resources in the library. Do you think this is a good idea?</p>
<p>例4：The university is going to shut down the computer center since many students already own a laptop of their own. Do you support this idea?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="借鉴反思">借鉴反思<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E5%80%9F%E9%89%B4%E5%8F%8D%E6%80%9D" class="hash-link" aria-label="Direct link to 借鉴反思" title="Direct link to 借鉴反思">​</a></h3>
<p>【适用话题特征：历史、名人、年龄差距、犯错】</p>
<ul>
<li>泛用语料：... would help us to reflect on ... and figure out how to improve for the better. To&nbsp;be specific,&nbsp;we learn not to repeat the same mistakes and also draw valuable lessons from the positive examples.</li>
</ul>
<p>例1：Do you agree that we should learn the history of our hometown?</p>
<p>I tend to agree with this statement. The main reason is that learning local history would help us to reflect on our ancestors’&nbsp;stories and figure out how to improve for the better. Specifically, we would learn not to repeat the same mistakes and also draw valuable lessons from the positive examples.</p>
<p>例2：Do you prefer to attend a dinner party with your peers or with your parents?</p>
<p>I prefer a dinner party with my parents. First of all, listening to my parents’&nbsp;stories would help me to reflect on their lives and figure out how to improve for the better. Specifically, I would learn not to repeat the same mistakes and also draw valuable lessons from the positive examples.</p>
<p>例3：Do you think it’s okay for ordinary people to discuss the private lives of celebrities?</p>
<p>例4：Should parents allow their children to make mistakes?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="电子设备">电子设备<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E7%94%B5%E5%AD%90%E8%AE%BE%E5%A4%87" class="hash-link" aria-label="Direct link to 电子设备" title="Direct link to 电子设备">​</a></h3>
<p>【适用话题特征：题目有关电子设备或其功能】</p>
<ul>
<li>泛用语料：</li>
</ul>
<p>Health: Studies show that prolonged exposure to electronic devices would result in health problems such as deteriorating eyesight, insomnia, and shorter attention spans. On top of that, students/kids would spend too much time staying indoors and gradually lose interest in human contact, which is detrimental to cultivating social skills.</p>
<p>Distraction: Students/Kids might be tempted to use their cellphones to do things unrelated to the class, like checking messages, reading the news, or even playing video games. Obviously, having a phone around would seriously decrease their learning efficiency.</p>
<p>例1：Do you prefer to read paper books or e-books?</p>
<p>例2：Should children have access to electronic devices as early as possible?</p>
<p>例3：Do you think professors should allow students to record their lectures?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="放松减压">放松&amp;减压<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E6%94%BE%E6%9D%BE%E5%87%8F%E5%8E%8B" class="hash-link" aria-label="Direct link to 放松&amp;减压" title="Direct link to 放松&amp;减压">​</a></h3>
<p>【适用话题特征：不限】</p>
<ul>
<li>泛用语料：... offers a great way to relax and alleviate stress. Students not only deal with heavy schoolwork but also have to juggle various extra-curricula activities, so it’s especially necessary for them to take a break and blow off some steam. For example, ... (这里可以结合某项具体活动来解释它如何实现放松的目的)</li>
</ul>
<p>例1：Do you agree that high school students should study art and music?</p>
<p>Listening to pop music/catchy tunes always puts me in a cheery mood&nbsp;so going back to study later feels less depressing.</p>
<p>Listening to rock music gets me super pumped so I’m able to get away from all those negative feelings.</p>
<p>While painting, students are immersed in their own imagination and temporarily escape from the usual tedious&nbsp;routine.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="谈资">谈资<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E8%B0%88%E8%B5%84" class="hash-link" aria-label="Direct link to 谈资" title="Direct link to 谈资">​</a></h3>
<p>【适用话题特征：不限】</p>
<ul>
<li>泛用语料：... would serve as great conversation materials since it’s a topic of interest among a lot of people. Basically, if I share this knowledge with those who are interested, we could have a much easier time chatting and potentially become friends as a result.</li>
</ul>
<p>例1：Do you think it’s okay for ordinary people to discuss the private lives of celebrities?</p>
<p>I agree with this statement. The first reason is that stories about celebrities would serve as great conversation materials since they are a topic of interest among a lot of people. Basically, if I share this with those who are interested, we could have a much easier time chatting and potentially become friends as a result.</p>
<p>例2：Do you agree that we should learn the history of other countries as well as of our mother country?</p>
<p>例3：Do you agree that one should learn the culture of a country before going there?</p>
<p>例4：Do you agree that video games are completely worthless for children?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="培养能力品质">培养能力品质<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/toefl/#%E5%9F%B9%E5%85%BB%E8%83%BD%E5%8A%9B%E5%93%81%E8%B4%A8" class="hash-link" aria-label="Direct link to 培养能力品质" title="Direct link to 培养能力品质">​</a></h3>
<p>【适用话题特征：不限】</p>
<ul>
<li>
<p>泛用语料：XX(activity) provides the perfect opportunity to help people cultivate Y(quality), which would . For example, ... (这里需要举例，简短地说明这个能力/品质在什么情况能发挥什么作用)</p>
<p>play an important part in their future</p>
</li>
</ul>
<p>例1：If a kid is unwilling to learn to play a musical instrument because it takes a lot of practice, should the parents force the kid to continue learning, or let the kid decide whether to continue or not?</p>
<p>例2：Do you prefer to work in a company that allows employees to solve problems with their own plans, or work in a company that requires employees to solve problems under specific guidelines?</p>
<p>例3：Do you agree that male and female university students should live in separate resident halls?</p>
<p>例4：Do you agree that good teachers should admit making mistakes or knowing little about something?</p>
<p>例5：Do you agree that children can have a pet?</p>
<h1>Refrence：</h1>
<p><a href="https://zhuanlan.zhihu.com/p/659335828?utm_psn=1749402305353752576" target="_blank" rel="noopener noreferrer">新托福114分备考经验心得贴（个人向？（雾 - 知乎</a></p>
<p><a href="https://v2.ereg.ets.org/ereg/public/jump?_p=TEL" target="_blank" rel="noopener noreferrer">Home Page</a></p>
<p><a href="https://toefl.neea.cn/" target="_blank" rel="noopener noreferrer">首页 - 教育部教育考试院托福网上报名</a></p>
<p><a href="https://toefl.kmf.com/home" target="_blank" rel="noopener noreferrer">【托福考满分官网】TOEFL课程_托福考试_托福真题_新托福模考_托福学习备考-托福考满分</a></p>
<p><a href="https://www.toeflresources.com/" target="_blank" rel="noopener noreferrer">TOEFL Resources | Test Resources</a></p>
<p><a href="https://www.hugejiaoyu.com/" target="_blank" rel="noopener noreferrer">HUGE®托福 – 做国内最专业的托福备考平台</a> --&gt;</p>]]></content>
        <author>
            <name>Yuxuan (Jerry) Lin</name>
            <uri>https://www.linkedin.com/in/yuxuan0/</uri>
        </author>
        <category label="EN" term="EN"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Duolingo Template | 多邻国模版]]></title>
        <id>https://JerryLinyx.github.io/Doc/blog/2024/04/18/duolingo/</id>
        <link href="https://JerryLinyx.github.io/Doc/blog/2024/04/18/duolingo/"/>
        <updated>2024-04-18T20:29:01.000Z</updated>
        <summary type="html"><![CDATA[Literacy]]></summary>
        <content type="html"><![CDATA[<p><img decoding="async" loading="lazy" src="https://jerrylinyx.github.io/Doc/assets/images/Duolingo-817a51a24ba71b6adc5b48ae9591e3b4.png" width="2000" height="1201" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="literacy">Literacy<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#literacy" class="hash-link" aria-label="Direct link to Literacy" title="Direct link to Literacy">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="填空">填空<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#%E5%A1%AB%E7%A9%BA" class="hash-link" aria-label="Direct link to 填空" title="Direct link to 填空">​</a></h3>
<p>要会猜：熟记特定字母开头的，不超过4个字母的单词
of, or, on, ok
all, are, ask, any, and, act, ant
what,  when, well, were, went, with, will, warm, ways, wage, wall, work</p>
<p>前缀、后缀、名词的复数形式、动词的变位、形容词的比较级
变位都算正确的</p>
<p>后缀对词干词性有要求
形容词可以加ly，动词不可以加，形容词的比较级不能加
名词+ly
1指人：brotherly/manly/friendly/scholarly/ghostly
2指时间<!-- -->:monthly<!-- -->/weekly/hourly/quarterly/yearly掌握常见前缀的变体</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="反义词">反义词<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#%E5%8F%8D%E4%B9%89%E8%AF%8D" class="hash-link" aria-label="Direct link to 反义词" title="Direct link to 反义词">​</a></h3>
<p>in
in在b\m\p之前，变成im
l之前，变成il
r之前，变成ir
其他情况不变
错误实例inregulate\ inpassionate\inbibe\inmutable</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="描述">描述<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#%E6%8F%8F%E8%BF%B0" class="hash-link" aria-label="Direct link to 描述" title="Direct link to 描述">​</a></h3>
<p>The photograph depicts a/an/two/some/+adj.+n.+doing  sth.+adv.+介词短语
depict v.描述、描绘、画</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="朗读句子">朗读句子<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#%E6%9C%97%E8%AF%BB%E5%8F%A5%E5%AD%90" class="hash-link" aria-label="Direct link to 朗读句子" title="Direct link to 朗读句子">​</a></h3>
<p>用准备时间顺一遍生词，连续、失爆、浊化、轻重音</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="production">Production<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#production" class="hash-link" aria-label="Direct link to Production" title="Direct link to Production">​</a></h2>
<p>production比起口语更偏重写作，而conversation会更偏重口语。而写作会很注重C级词汇的使用。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-看图写作">1. 看图写作<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#1-%E7%9C%8B%E5%9B%BE%E5%86%99%E4%BD%9C" class="hash-link" aria-label="Direct link to 1. 看图写作" title="Direct link to 1. 看图写作">​</a></h3>
<p>考试中会遇到三道看图写作题，三道连出，考试时一般从第四道题或者第五道题出现，做好心里准备。以下有三个模版，<strong>每道题的开头分别使用一个模版</strong>，背熟后去登登上练习套模版。</p>
<ul>
<li><strong>We can see in this intriguing and quaint picture that there are X(数字) vivacious people doing sth. ...</strong></li>
<li><strong>It can be manifestly seen in this fabulous snapshot that ...</strong></li>
<li><strong>As depicted in this engrossing image, ...</strong></li>
</ul>
<p><strong>图中有人，开头模版句先描述人物在干什么。</strong></p>
<p>人物：小孩 - cunning/lovable kid</p>
<p>男性 - muscular/personable man</p>
<p>女性 - winsome woman</p>
<p>妈妈 - affectionate mother</p>
<p>老人 - the grizzled elderly</p>
<p>工人 - wholehearted worker</p>
<p>黑人 - dark-skinned</p>
<p>动作：笑 - is grinning cheerfully</p>
<p>哭 - is wailing sorrowfully</p>
<p>认真工作 - is working attentively</p>
<p>套话 - is lying/standing soundlessly on the ground</p>
<p><strong>写完开头句后再写一句或两句短句即可</strong>。一般根据图片内容选择性去写后面的句子，具体描述一下这个人的行为/或者这个人的衣服/或者这个人看上去怎么样It seems... 这个人很愉悦feel blissful，这个人很伤心feel apprehensive，这个人很累is exhausted
衣物：is naked to the waist 半裸
uniform 制服（厨师/警卫/保安/工人）
singlet （老头）汗衫
hood 头巾
jumper 套头卫衣</p>
<p><strong>图中只有物，开头模版句描述一下物品，接着用一两句描述一下环境或天气</strong>，可以It seems... 很安静/很美/很危险hazardous，也可以It seems that it is a sunlit and radiant/chilly and frigid/hazy and overcast day。描述天气的句子是我从别人攻略那看来的，不过我自己不常用，我更喜欢用简单词继续描述物品和环境，如果考试来不及思考就直接放一句套话：It is (not) tranquil with serenity.</p>
<p>物品：bench
wooden table
cliff 悬崖
mattress 床垫
amusement park 游乐场
sky wheel&nbsp;摩天轮
pram 婴儿车
hay 干草
translucent roofs
parade 游行
lawn 草地
concrete house
telescope 望远镜</p>
<p>这些词都是我三天内刷题时自己记录积累的不熟单词，你们自己做题时也可以记录一下。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-小作文">2. 小作文<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#2-%E5%B0%8F%E4%BD%9C%E6%96%87" class="hash-link" aria-label="Direct link to 2. 小作文" title="Direct link to 2. 小作文">​</a></h3>
<p><strong>There is an ongoing dispute about xxx(改写题目). From my perspective, two momentous&nbsp;factors&nbsp;can explain why I do maintain the belief that 你的观点. There are several quintessential instances and reasons involved thereof.</strong></p>
<p><strong>The manifest sentiment coincides with my standpoint is that 观点1+案例(for instance)</strong></p>
<p><strong>Additionally, advocates utterly concede that 观点2 + 案例(for example)</strong></p>
<p><strong>Finally, we can arrive at the undeniable conclusion that it is indisputable for people to+ 重复第一段中的观点.</strong></p>
<p>描述类和议论类小作文都可以使用此模版，但描述类在套模版前需要先回答一下题目的问题。</p>
<p>考试前一定要把模版敲熟，要做到不需要思考就能把模版打出来，否则会不够时间写你的观点。小作文的字数会影响你的分数，所以尽可能多写一点，并留出一小部分时间检查一下有没有敲错的词。我在平时刷题的时候就练习到能写完140+的词，考试的时候即使有些慌忙也能打到130-140的词。如果英语基础一般，来不及或没有把握正确改写题目，亲测套模版的时候直接把题目原句抄上去也不会影响分数的。</p>
<p>小作文的万能词句：（用于表达观点时增加C级词汇量）</p>
<p><strong>It will exert a profound effect on people's life.</strong></p>
<p><strong>It is commonly acknowledged that..</strong></p>
<p>merits and demerits 用于替换advantages and disadvantages</p>
<p>an extraordinary solution</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conversation">Conversation<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#conversation" class="hash-link" aria-label="Direct link to Conversation" title="Direct link to Conversation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-小口语看题演讲听题演讲">1. 小口语（看题演讲/听题演讲）<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#1-%E5%B0%8F%E5%8F%A3%E8%AF%AD%E7%9C%8B%E9%A2%98%E6%BC%94%E8%AE%B2%E5%90%AC%E9%A2%98%E6%BC%94%E8%AE%B2" class="hash-link" aria-label="Direct link to 1. 小口语（看题演讲/听题演讲）" title="Direct link to 1. 小口语（看题演讲/听题演讲）">​</a></h3>
<p>亲测小口语C级词汇其实没有很重要，只要嘴巴不停地讲就行，重复题目也没关系，说一些没什么意义的话也可以，不必有逻辑。但有两点很重要，一是乱讲也要<strong>和题目相关</strong>（否则会不认证），二是尽量说到倒计时结束5s之内，三是尽量<strong>不要有卡壳</strong>（否则会非常影响分数）</p>
<p>登登把小口语分为描述类，对比类和解决类，其实我觉得不必，像我只备考了三天就算背了三种模版也来不及练怎么根据题型去套各种模版。所以我亲测了一下，只需要背一种模版，然后根据题目生搬硬套就行，反正多邻国也不要求什么逻辑，审核的考官也只听到你讲的话题和题目问的一致就行。</p>
<p><strong>Well, I’d like to talk about</strong>&nbsp;XXX,&nbsp;<strong>which</strong>&nbsp;is XXX.&nbsp;<strong>I want to introduce it to you because it is such a</strong>&nbsp;<strong>fantastic/terrible</strong>XXX/topic.</p>
<p><strong>Before I</strong>&nbsp;...,&nbsp;<strong>I used to think that</strong>&nbsp;...&nbsp;<strong>That was why I had never paid my attention to this topic before.</strong></p>
<p><strong>Unexpectedly, I randomly</strong>&nbsp;...&nbsp;<strong>about XX months ago, which changed my</strong>&nbsp;<strong>mind.</strong></p>
<p><strong>开始你的内容 (<strong>Nowadays, a considerable amount of people are beginning to believe that ___ is/are significant.</strong>) ...</strong></p>
<p><strong>It provided me an opportunity</strong>&nbsp;<strong>to</strong>&nbsp;<strong>expose</strong>&nbsp;<strong>myself to</strong>&nbsp;XXX&nbsp;<strong>and changed my point of view on certain things that helps me expand</strong>&nbsp;<strong>my horizon.</strong></p>
<p><strong>Therefore, that’s why</strong>&nbsp;XXX.&nbsp;<strong>就可以结束了</strong></p>
<p><strong>（如果时间不够：I’m very glad to introduce it to you. If you have some free time, you can try it. I guess you will get something unexpected.）</strong></p>
<p>这原本就是描述类的模版，所以描述类的题就很好套。</p>
<p>如果有时间的话可以背一下另一个针对对比类题目的模版，如果没时间背，用以上的模版也可以做对比类题目。</p>
<p><strong>When it comes to (whether A is better than B / what are the merits and demerits of), people have different opinions. I personally believe that (A is better than B / there are more advantages than disadvantage) ...</strong></p>
<p><strong>Admittedly,</strong>&nbsp;<strong>it is commonly acknowledged that</strong>&nbsp;...,&nbsp;<strong>because</strong>&nbsp;...</p>
<p><strong>However,</strong>&nbsp;<strong>it should be pointed out that</strong>&nbsp;...</p>
<p><strong>In addition,</strong>&nbsp;<strong>it is a fact that</strong>&nbsp;...</p>
<p><strong>Overall,</strong>&nbsp;<strong>it is obvious that</strong>&nbsp;<strong>(A is better than B / there are more advantages than disadvantage) ...</strong></p>
<p>如果听题演讲没听懂题目问什么，但又不想让考官觉得你在胡说八道乱套模版的话，你可以说一句<strong>Sorry, I'm not sure if I understand the exact meaning of this question, but I think it is asking me to talk about ...</strong>&nbsp;&nbsp;亲测这句话不会影响分数，我考试的时候虽然听懂了题目，但不是很确定有没有理解对，我就说了这句话。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-看图演讲">2. 看图演讲<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#2-%E7%9C%8B%E5%9B%BE%E6%BC%94%E8%AE%B2" class="hash-link" aria-label="Direct link to 2. 看图演讲" title="Direct link to 2. 看图演讲">​</a></h3>
<p>看图演讲和看图写句的区别是，看图演讲要更细致得描述图片，也要用更多套话去凑满时间。</p>
<p>模版：</p>
<p><strong>This</strong>&nbsp;(black and white)&nbsp;<strong>picture depicts a fabulous situation outdoors/indoors&nbsp;+ 地点</strong></p>
<p><strong>There are several quintessential items involved thereof. For example, we can see there are + 图中的物品 (adj. + n.) at the top / on the right or left / at the bottom / in the background or foreground / in the middle.</strong></p>
<p><strong>如果图里有人物 - Additionally, we can see there is/are+ 人物 who is (eg. talking to others, chatting with her friend，lying on the grass). He/she/they+has/have 外貌细节（头发+眼镜+胡子+肤色）Plus, He /She/They is/ are ... wearing 什么衣服 + 什么配饰（手表+头巾+围巾+帽子）According to their facial expression, I could speculate that they feel + 心情词 (blissful/apprehensive)</strong></p>
<p><strong>如果时间还没凑满就说，时间快结束了就不要说了 - This engrossing picture reminds me of my own memorable experience. In retrospect, ... +经历 (描述与题目相关的经历，比如说我来过类似的地方/我做过类似的活动) during puberty / in childhood.</strong></p>
<p><strong>In&nbsp;brief, this image is very informative and provides me lots of useful information / evokes my recollection of (my puberty / my childhood).</strong></p>
<p>看图演讲把模版背熟基本就没什么问题了</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="templates">Templates<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#templates" class="hash-link" aria-label="Direct link to Templates" title="Direct link to Templates">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="偏描述类口语开头"><em><strong>偏描述类口语开头</strong></em><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#%E5%81%8F%E6%8F%8F%E8%BF%B0%E7%B1%BB%E5%8F%A3%E8%AF%AD%E5%BC%80%E5%A4%B4" class="hash-link" aria-label="Direct link to 偏描述类口语开头" title="Direct link to 偏描述类口语开头">​</a></h3>
<p><strong>Speaking of (题目的中心), I feel like I have to talk about (题目), which is popular on the internet.</strong></p>
<p><strong>尽可能回答部分问题</strong></p>
<p><strong>To be honest, before…, I used to think that (否定题目现象). Therefore, I didn’t know why people were keen to …, which was the reason why I had never paid attention to this topic before. Unexpectedly, by chance, I …</strong></p>
<p><strong>From that day on, I have been (doing xxx) every day. Admittedly, it sounds a little bit exaggerated or even eccentric, but it is the truth. Because there was one day that I didn’t (do xxx) before sleep which made me feel wretched, frustrated, and disappointed. So it becomes necessary for me to (do xxx) regularly.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="偏对比类口语开头"><em><strong>偏对比类口语开头</strong></em><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#%E5%81%8F%E5%AF%B9%E6%AF%94%E7%B1%BB%E5%8F%A3%E8%AF%AD%E5%BC%80%E5%A4%B4" class="hash-link" aria-label="Direct link to 偏对比类口语开头" title="Direct link to 偏对比类口语开头">​</a></h3>
<p><strong>About (题目), different people have entirely dissimilar opinions.</strong></p>
<p><strong>Hence, there is an ongoing dispute about (题目) on the internet, which could be vitally&nbsp;problematic. However, I deem that …. for the following reasons and instances.</strong></p>
<p><strong>尽可能回答部分问题</strong></p>
<p><strong>To be honest, before…, I used to think that (题目) is of little significance. Hence, I haven’t thought about it until Irealized that it exerts a profound impact on people’s lives.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="开头说完了就开始说意义任选几句说满时间"><strong>开头说完了就开始说意义，任选几句说满时间：</strong><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#%E5%BC%80%E5%A4%B4%E8%AF%B4%E5%AE%8C%E4%BA%86%E5%B0%B1%E5%BC%80%E5%A7%8B%E8%AF%B4%E6%84%8F%E4%B9%89%E4%BB%BB%E9%80%89%E5%87%A0%E5%8F%A5%E8%AF%B4%E6%BB%A1%E6%97%B6%E9%97%B4" class="hash-link" aria-label="Direct link to 开头说完了就开始说意义任选几句说满时间" title="Direct link to 开头说完了就开始说意义任选几句说满时间">​</a></h3>
<p><strong>It provided me an opportunity to expose myself to…, which helps me broaden my horizon. This enables me to change my point of view on certain things, thereby exerting a profound impact on cultivating my xx skills.</strong>&nbsp;<strong>Had it not been for this experience, I would not have become such a versatile person today.</strong></p>
<p><strong>意义中的"I"可以换成“人们””家长“等等。</strong></p>
<p><strong>2022.12.12更新：除了上述两点之外我还准备过一个通用的讲人的例子。</strong></p>
<p>比如说我准备了Paul Volcker调整货币供给（实质上提高利率）拯救美国经济于滞涨的例子，这个故事的好处在于题目问 great person&nbsp;/ notorious person都能用这个例子，因为这个举措长期上体现了他有远见有魄力，但短期内也冲击经济造成了失业率飙升。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="小作文"><strong>小作文</strong><a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#%E5%B0%8F%E4%BD%9C%E6%96%87" class="hash-link" aria-label="Direct link to 小作文" title="Direct link to 小作文">​</a></h3>
<p><strong>先回答问题</strong></p>
<p><strong>About (题目), different people have entirely dissimilar opinions. Hence, there is an ongoing dispute about… Apparently, this controversy about … could be vitally problematic. From my perspective, elaborated by two&nbsp;momentous factors, I deem that (观点). There are several quintessential instances and reasons involved thereof.</strong></p>
<p><strong>The explicit sentiment that coincides with my standpoint is that …</strong></p>
<p><strong>Additionally, advocates utterly concede that …</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference:<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/duolingo/#reference" class="hash-link" aria-label="Direct link to Reference:" title="Direct link to Reference:">​</a></h2>
<p><a href="https://www.zhihu.com/question/389160562/answer/2361065176" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/389160562/answer/2361065176</a>
<a href="https://zhuanlan.zhihu.com/p/536211922" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/536211922</a> --&gt;</p>]]></content>
        <author>
            <name>Yuxuan (Jerry) Lin</name>
            <uri>https://www.linkedin.com/in/yuxuan0/</uri>
        </author>
        <category label="EN" term="EN"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[快速搭建个人博客：Github部署Hexo (MacOS)]]></title>
        <id>https://JerryLinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/</id>
        <link href="https://JerryLinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/"/>
        <updated>2024-04-18T17:24:51.000Z</updated>
        <summary type="html"><![CDATA[安装 Brew]]></summary>
        <content type="html"><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装-brew">安装 Brew<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/#%E5%AE%89%E8%A3%85-brew" class="hash-link" aria-label="Direct link to 安装 Brew" title="Direct link to 安装 Brew">​</a></h3>
<p><a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">brew</a></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装-git-nodejs">安装 Git, Node.js<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/#%E5%AE%89%E8%A3%85-git-nodejs" class="hash-link" aria-label="Direct link to 安装 Git, Node.js" title="Direct link to 安装 Git, Node.js">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">brew install node</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看安装情况">查看安装情况<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/#%E6%9F%A5%E7%9C%8B%E5%AE%89%E8%A3%85%E6%83%85%E5%86%B5" class="hash-link" aria-label="Direct link to 查看安装情况" title="Direct link to 查看安装情况">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node -v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git --version</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装-hexo">安装 Hexo<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/#%E5%AE%89%E8%A3%85-hexo" class="hash-link" aria-label="Direct link to 安装 Hexo" title="Direct link to 安装 Hexo">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install -g hexo-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo init blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo g</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo s</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="部署到github">部署到GitHub<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/#%E9%83%A8%E7%BD%B2%E5%88%B0github" class="hash-link" aria-label="Direct link to 部署到GitHub" title="Direct link to 部署到GitHub">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git config --global user.name "username"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git config --global user.email "example@example.com"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t rsa -C "example@example.com"</span><br></span></code></pre></div></div>
<p>最后一行在 ~/.ssh/id_rsa.pub 目录下，生成需要使用的公钥
进入账户主文件夹，按 Command+Shift+. 显示隐藏文件，找到.ssh文件夹，打开id_rsa.pub，复制全部
打开 <a href="https://github.com/settings/keys" target="_blank" rel="noopener noreferrer">GitHub-&gt;Settings-&gt;SSH keys</a>，新建 New SSH Key，使用我们复制的公钥，点击 Add SSH key</p>
<p>在Github上新建一个仓库，Repository Name 为 用户名.github.io，仓库状态设为 Public，点击 Create Repository 创建新的网站仓库。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="在blog文件夹下">在blog文件夹下<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/#%E5%9C%A8blog%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B" class="hash-link" aria-label="Direct link to 在blog文件夹下" title="Direct link to 在blog文件夹下">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install hexo-deployer-git --save</span><br></span></code></pre></div></div>
<p>编辑blog文件夹下的_config.yml文件，在底部修改deploy部分为：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">deploy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type: git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repo: git@github.com:你的用户名/你的用户名.github.io.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  branch: master</span><br></span></code></pre></div></div>
<p>完成后：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#生成blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo g</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#将blog推送到指定位置，即Github</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo d</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="打开-repository-的-pages-功能">打开 Repository 的 Pages 功能<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/#%E6%89%93%E5%BC%80-repository-%E7%9A%84-pages-%E5%8A%9F%E8%83%BD" class="hash-link" aria-label="Direct link to 打开 Repository 的 Pages 功能" title="Direct link to 打开 Repository 的 Pages 功能">​</a></h4>
<p>打开repository的Settings -&gt; Pages -&gt; Branch 选择 master，点击 Save
此时blog已经成功部署在 用户名.github.io，通常需要等待几分钟</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hexo常用命令">Hexo常用命令<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/#hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" class="hash-link" aria-label="Direct link to Hexo常用命令" title="Direct link to Hexo常用命令">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 生成一篇名为title的新文章</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo new title</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 在blog文件夹下执行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo n "文章名称"  =&gt; hexo new "文章名称"  #这两个都是创建新文章，前者是简写模式，下同，new后面加一个draft可以生成草稿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo p  =&gt; hexo publish  #发布草稿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo g  =&gt; hexo generate  #生成</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo s  =&gt; hexo server  #启动服务预览</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo d  =&gt; hexo deploy  #部署</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo server   #Hexo 会监视文件变动并自动更新，无须重启服务器。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo server -s   #静态模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo server -p 5000   #更改端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo server -i 192.168.1.1   #自定义IP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hexo clean   #清除缓存，网页正常情况下可以忽略此条命令</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference：<a href="https://jerrylinyx.github.io/Doc/blog/2024/04/18/macos-hexo-github/#reference" class="hash-link" aria-label="Direct link to Reference：" title="Direct link to Reference：">​</a></h3>
<p><a href="https://blog.l3zc.com/2022/05/mac%E7%8E%AF%E5%A2%83%E4%B8%8B%E4%BD%BF%E7%94%A8hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener noreferrer">Mac OS环境下使用Hexo搭建个人博客</a>
<a href="https://zhuanlan.zhihu.com/p/114195340" target="_blank" rel="noopener noreferrer">GitHub Pages + Hexo免费搭建个人博客_Mac</a>
<a href="https://mp.weixin.qq.com/s/jVEv9jHV3WS5nAkVOmAcng" target="_blank" rel="noopener noreferrer">听说创客们都有这样一个自己的博客听说创客们都有这样一个自己的博客</a>
<a href="https://butterfly.js.org/posts/21cfbf15/#%E5%AE%89%E8%A3%9D" target="_blank" rel="noopener noreferrer">Butterfly 安裝文檔(一) 快速開始</a> --&gt;</p>]]></content>
        <author>
            <name>Yuxuan (Jerry) Lin</name>
            <uri>https://www.linkedin.com/in/yuxuan0/</uri>
        </author>
        <category label="Frontend" term="Frontend"/>
        <category label="Hexo" term="Hexo"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Welcome]]></title>
        <id>https://JerryLinyx.github.io/Doc/blog/welcome/</id>
        <link href="https://JerryLinyx.github.io/Doc/blog/welcome/"/>
        <updated>2021-08-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Docusaurus blogging features are powered by the blog plugin.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://docusaurus.io/docs/blog" target="_blank" rel="noopener noreferrer">Docusaurus blogging features</a> are powered by the <a href="https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-blog" target="_blank" rel="noopener noreferrer">blog plugin</a>.</p>
<p>Here are a few tips you might find useful.</p>
<p>Simply add Markdown files (or folders) to the <code>blog</code> directory.</p>
<p>Regular blog authors can be added to <code>authors.yml</code>.</p>
<p>The blog post date can be extracted from filenames, such as:</p>
<ul>
<li><code>2019-05-30-welcome.md</code></li>
<li><code>2019-05-30-welcome/index.md</code></li>
</ul>
<p>A blog post folder can be convenient to co-locate blog post images:</p>
<p><img decoding="async" loading="lazy" alt="Docusaurus Plushie" src="https://jerrylinyx.github.io/Doc/assets/images/docusaurus-plushie-banner-a60f7593abca1e3eef26a9afa244e4fb.jpeg" width="1500" height="500" class="img_ev3q"></p>
<p>The blog supports tags as well!</p>
<p><strong>And if you don't want a blog</strong>: just delete this directory, and use <code>blog: false</code> in your Docusaurus config.</p>]]></content>
        <author>
            <name>Sébastien Lorber</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <author>
            <name>Yangshun Tay</name>
            <uri>https://linkedin.com/in/yangshun</uri>
        </author>
        <category label="Facebook" term="Facebook"/>
        <category label="Hello" term="Hello"/>
        <category label="Docusaurus" term="Docusaurus"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[MDX Blog Post]]></title>
        <id>https://JerryLinyx.github.io/Doc/blog/mdx-blog-post/</id>
        <link href="https://JerryLinyx.github.io/Doc/blog/mdx-blog-post/"/>
        <updated>2021-08-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Blog posts support Docusaurus Markdown features, such as MDX.]]></summary>
        <content type="html"><![CDATA[<p>Blog posts support <a href="https://docusaurus.io/docs/markdown-features" target="_blank" rel="noopener noreferrer">Docusaurus Markdown features</a>, such as <a href="https://mdxjs.com/" target="_blank" rel="noopener noreferrer">MDX</a>.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Use the power of React to create interactive blog posts.</p></div></div>
<!-- -->
<p>For example, use JSX to create an interactive button:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'button clicked!'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Click</span><span class="token plain"> me</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<button>Click me!</button>]]></content>
        <author>
            <name>Sébastien Lorber</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <category label="Docusaurus" term="Docusaurus"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Long Blog Post]]></title>
        <id>https://JerryLinyx.github.io/Doc/blog/long-blog-post/</id>
        <link href="https://JerryLinyx.github.io/Doc/blog/long-blog-post/"/>
        <updated>2019-05-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[This is the summary of a very long blog post,]]></summary>
        <content type="html"><![CDATA[<p>This is the summary of a very long blog post,</p>
<p>Use a <code>&lt;!--</code> <code>truncate</code> <code>--&gt;</code> comment to limit blog post size in the list view.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>]]></content>
        <author>
            <name>Yangshun Tay</name>
            <uri>https://linkedin.com/in/yangshun</uri>
        </author>
        <category label="Hello" term="Hello"/>
        <category label="Docusaurus" term="Docusaurus"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[First Blog Post]]></title>
        <id>https://JerryLinyx.github.io/Doc/blog/first-blog-post/</id>
        <link href="https://JerryLinyx.github.io/Doc/blog/first-blog-post/"/>
        <updated>2019-05-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Lorem ipsum dolor sit amet...]]></summary>
        <content type="html"><![CDATA[<p>Lorem ipsum dolor sit amet...</p>
<p>...consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>]]></content>
        <author>
            <name>Sébastien Lorber</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <author>
            <name>Yangshun Tay</name>
            <uri>https://linkedin.com/in/yangshun</uri>
        </author>
        <category label="Hola" term="Hola"/>
        <category label="Docusaurus" term="Docusaurus"/>
    </entry>
</feed>